<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2025-05-08T07:43:03+00:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">DongHyeon Kim’s Blog</title><subtitle>Swift와 크롤링 기술을 통해 안전한 세상을 만들고 싶습니다.</subtitle><author><name>Dong Hyeon</name></author><entry><title type="html">[UIKit]-테이블뷰2</title><link href="http://localhost:4000/UIKit-tableView2/" rel="alternate" type="text/html" title="[UIKit]-테이블뷰2" /><published>2025-05-08T00:00:00+00:00</published><updated>2025-05-08T00:00:00+00:00</updated><id>http://localhost:4000/%5BUIKit%5D-tableView2</id><content type="html" xml:base="http://localhost:4000/UIKit-tableView2/"><![CDATA[<h1 id="테이블뷰뽀개기-06---스토리보드-등록-커스텀-쎌">테이블뷰뽀개기 06 - 스토리보드 등록 커스텀 쎌</h1>

<!-- <img src="/assets/img/2025-05-08-[UIKit]-tableView2/1.png" alt="1" width="50%"> -->

<p><img src="/assets/img/2025-05-08-%5BUIKit%5D-tableView2/1.png" alt="커스텀셀" width="30%" /></p>

<p>이전 포스팅에서 최종 구현한 코드 화면이다. 각 셀의 body가 많기 때문에 커스텀 셀을 만들어보자</p>]]></content><author><name>Dong Hyeon</name></author><category term="UIKit" /><category term="TableView" /><summary type="html"><![CDATA[테이블뷰뽀개기 06 - 스토리보드 등록 커스텀 쎌 이전 포스팅에서 최종 구현한 코드 화면이다. 각 셀의 body가 많기 때문에 커스텀 셀을 만들어보자]]></summary></entry><entry><title type="html">[UIKit]-테이블뷰1</title><link href="http://localhost:4000/UIKit-tableView1/" rel="alternate" type="text/html" title="[UIKit]-테이블뷰1" /><published>2025-05-08T00:00:00+00:00</published><updated>2025-05-08T00:00:00+00:00</updated><id>http://localhost:4000/%5BUIKit%5D-tableView1</id><content type="html" xml:base="http://localhost:4000/UIKit-tableView1/"><![CDATA[<h2 id="1-테이블-뷰">1. 테이블 뷰</h2>
<p>테이블뷰는 dataSource와 delegate, Cell로 이루어져있다.</p>

<h3 id="구성">구성</h3>
<ul>
  <li>dataSource
    <ul>
      <li>데이터와 관련된 부분</li>
      <li>셀을 어떻게 보여줄 지</li>
      <li>데이터 크기, 종류에 따른 셀의 타입 정하기</li>
      <li>리스트 개수가 몇개인지</li>
    </ul>
  </li>
  <li>delegate
    <ul>
      <li>특정 셀 선택시 엑션과 같은 이벤트 처리 담당</li>
    </ul>
  </li>
  <li>Cell
    <ul>
      <li>테이블뷰에 들어가는 각각의 알맹이</li>
    </ul>
  </li>
</ul>

<h3 id="예제-1">예제 1</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="c1">/// Interface Builder에 연결된 테이블 뷰 아울렛</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">myTableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="o">!</span>
    
    <span class="c1">/// 더미 데이터</span>
    <span class="k">var</span> <span class="nv">dummyDataList</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">"hello world1"</span><span class="p">,</span>
        <span class="s">"hello world2"</span><span class="p">,</span>
        <span class="s">"hello world3"</span><span class="p">,</span>
        <span class="s">"hello world4"</span><span class="p">,</span>
        <span class="s">"hello world5"</span><span class="p">,</span>
        <span class="s">"hello world6"</span><span class="p">,</span>
        <span class="s">"hello world7"</span><span class="p">,</span>
        <span class="s">"hello world8"</span><span class="p">,</span>
        <span class="s">"hello world9"</span><span class="p">,</span>
    <span class="p">]</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        
        <span class="c1">/// 테이블 뷰의 데이터 소스, 델리겟을 현재 뷰 컨트롤러로 설정</span>
        <span class="n">myTableView</span><span class="o">.</span><span class="n">dataSource</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">myTableView</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">/// 프로토콜은 약속이다 -&gt; 준수해야한다</span>
<span class="c1">/// DateSource - 데이터 관련된 부분</span>
<span class="c1">/// 리스트는 섹션과 섹션안에 아이템들이 있다</span>
<span class="c1">/// 테이블뷰에서는 섹션과 로우로 부룬다</span>
<span class="c1">///</span>
<span class="c1">/// UITableView의 데이터 관리 역할을 담당</span>
<span class="kd">extension</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UITableViewDataSource</span> <span class="p">{</span>
    
    <span class="c1">/// 섹션 내 보여줄 셀의 개수를 반환</span>
    <span class="c1">/// - section: 섹션 인덱스 (기본적으로 1개 섹션 사용 중)</span>
    <span class="c1">/// - returns: 행(Row)의 개수</span>
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">numberOfRowsInSection</span> <span class="nv">section</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">dummyDataList</span><span class="o">.</span><span class="n">count</span>
    <span class="p">}</span>
    
    <span class="c1">/// 각 셀에 대한 내용을 구성하여 반환 -&gt; 셀의 종류를 정하기 - 테이블뷰 셀을 만들어서 반환해라</span>
    <span class="c1">/// - indexPath: 셀의 위치를 나타내는 인덱스 경로</span>
    <span class="c1">/// - returns: 구성된 UITableViewCell 객체</span>
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">cellForRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UITableViewCell</span> <span class="p">{</span>
        <span class="c1">/// 기본 스타일의 셀 생성 (textLabel과 detailTextLabel 포함)</span>
        <span class="k">let</span> <span class="nv">cell</span> <span class="o">=</span> <span class="kt">UITableViewCell</span><span class="p">(</span><span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">subtitle</span><span class="p">,</span> <span class="nv">reuseIdentifier</span><span class="p">:</span> <span class="s">"MyCell"</span><span class="p">)</span>
        
        <span class="c1">/// 셀의 주 텍스트를 더미 데이터에서 가져오기</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">textLabel</span><span class="p">?</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">dummyDataList</span><span class="p">[</span><span class="n">indexPath</span><span class="o">.</span><span class="n">row</span><span class="p">]</span>
        
        <span class="c1">/// 셀의 서브 타이틀 설정</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">detailTextLabel</span><span class="p">?</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">"테스트"</span>
        <span class="k">return</span> <span class="n">cell</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">/// 이벤트 관련 부분 - 셀 선택 등 사용자 인터랙션(이벤트) 관련 처리</span>
<span class="kd">extension</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UITableViewDelegate</span> <span class="p">{</span>
    <span class="c1">/// 사용자가 특정 셀을 선택했을 때 호출되는 메서드</span>
    <span class="c1">/// - Parameters:</span>
    <span class="c1">///   - tableView: 이벤트가 발생한 테이블 뷰</span>
    <span class="c1">///   - indexPath: 선택된 셀의 위치</span>
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">didSelectRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="k">#fileID</span><span class="p">,</span> <span class="k">#function</span><span class="p">,</span> <span class="k">#line</span><span class="p">,</span> <span class="s">"- indexPath: </span><span class="se">\(</span><span class="n">indexPath</span><span class="o">.</span><span class="n">row</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="예제-2">예제 2</h3>
<ul>
  <li>더미 데이터 활용</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">DummyData</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">uuid</span><span class="p">:</span> <span class="kt">UUID</span>
    <span class="k">let</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">body</span><span class="p">:</span> <span class="kt">String</span>
    
    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="kt">UUID</span><span class="p">()</span>
        <span class="k">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"타이틀입니다: </span><span class="se">\(</span><span class="n">uuid</span><span class="se">)</span><span class="s">"</span>
        <span class="k">self</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="s">"바디입니다: </span><span class="se">\(</span><span class="n">uuid</span><span class="se">)</span><span class="s">"</span>
    <span class="p">}</span>
    
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">getDumies</span><span class="p">(</span><span class="n">_</span> <span class="nv">count</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">DummyData</span><span class="p">]</span> <span class="p">{</span>
        <span class="nf">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">...</span><span class="n">count</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="kt">DummyData</span><span class="p">()</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">myTableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="o">!</span>
    
    <span class="k">var</span> <span class="nv">dummyDataList</span><span class="p">:</span> <span class="p">[</span><span class="kt">DummyData</span><span class="p">]</span> <span class="o">=</span> <span class="kt">DummyData</span><span class="o">.</span><span class="nf">getDumies</span><span class="p">()</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        <span class="n">myTableView</span><span class="o">.</span><span class="n">dataSource</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">myTableView</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UITableViewDataSource</span> <span class="p">{</span>
    
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">numberOfRowsInSection</span> <span class="nv">section</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">dummyDataList</span><span class="o">.</span><span class="n">count</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">cellForRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UITableViewCell</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">cell</span> <span class="o">=</span> <span class="kt">UITableViewCell</span><span class="p">(</span><span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">subtitle</span><span class="p">,</span> <span class="nv">reuseIdentifier</span><span class="p">:</span> <span class="s">"MyCell"</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">cellData</span><span class="p">:</span> <span class="kt">DummyData</span> <span class="o">=</span> <span class="n">dummyDataList</span><span class="p">[</span><span class="n">indexPath</span><span class="o">.</span><span class="n">row</span><span class="p">]</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">textLabel</span><span class="p">?</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">cellData</span><span class="o">.</span><span class="n">title</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">detailTextLabel</span><span class="p">?</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">cellData</span><span class="o">.</span><span class="n">body</span>
        <span class="k">return</span> <span class="n">cell</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UITableViewDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">didSelectRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="k">#fileID</span><span class="p">,</span> <span class="k">#function</span><span class="p">,</span> <span class="k">#line</span><span class="p">,</span> <span class="s">"- indexPath: </span><span class="se">\(</span><span class="n">indexPath</span><span class="o">.</span><span class="n">row</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="예제-3">예제 3</h3>
<ul>
  <li>섹션의 header와 footer 활용</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="kd">struct</span> <span class="kt">DummySection</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">uuid</span><span class="p">:</span> <span class="kt">UUID</span>
    <span class="k">let</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">body</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">rows</span><span class="p">:</span> <span class="p">[</span><span class="kt">DummyData</span><span class="p">]</span>
    
    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="kt">UUID</span><span class="p">()</span>
        <span class="k">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"섹션 타이틀입니다: </span><span class="se">\(</span><span class="n">uuid</span><span class="se">)</span><span class="s">"</span>
        <span class="k">self</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="s">"섹션 바디입니다: </span><span class="se">\(</span><span class="n">uuid</span><span class="se">)</span><span class="s">"</span>
        <span class="k">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="kt">DummyData</span><span class="o">.</span><span class="nf">getDumies</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">getDumies</span><span class="p">(</span><span class="n">_</span> <span class="nv">count</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">DummySection</span><span class="p">]</span> <span class="p">{</span>
        <span class="nf">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">...</span><span class="n">count</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="kt">DummySection</span><span class="p">()</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">DummyData</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">uuid</span><span class="p">:</span> <span class="kt">UUID</span>
    <span class="k">let</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">body</span><span class="p">:</span> <span class="kt">String</span>
    
    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="kt">UUID</span><span class="p">()</span>
        <span class="k">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"타이틀입니다: </span><span class="se">\(</span><span class="n">uuid</span><span class="se">)</span><span class="s">"</span>
        <span class="k">self</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="s">"바디입니다: </span><span class="se">\(</span><span class="n">uuid</span><span class="se">)</span><span class="s">"</span>
    <span class="p">}</span>
    
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">getDumies</span><span class="p">(</span><span class="n">_</span> <span class="nv">count</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">DummyData</span><span class="p">]</span> <span class="p">{</span>
        <span class="nf">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">...</span><span class="n">count</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="kt">DummyData</span><span class="p">()</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">myTableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="o">!</span>
    
    <span class="k">var</span> <span class="nv">dummySections</span><span class="p">:</span> <span class="p">[</span><span class="kt">DummySection</span><span class="p">]</span> <span class="o">=</span> <span class="kt">DummySection</span><span class="o">.</span><span class="nf">getDumies</span><span class="p">()</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        
        <span class="n">myTableView</span><span class="o">.</span><span class="n">dataSource</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">myTableView</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UITableViewDataSource</span> <span class="p">{</span>
    
    <span class="c1">/// 섹션이 여러개일때만 사용</span>
    <span class="c1">/// 섹션의 타이틀 설정</span>
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">titleForHeaderInSection</span> <span class="nv">section</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"헤더: "</span> <span class="o">+</span> <span class="n">dummySections</span><span class="p">[</span><span class="n">section</span><span class="p">]</span><span class="o">.</span><span class="n">title</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">titleForFooterInSection</span> <span class="nv">section</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"푸터: "</span> <span class="o">+</span> <span class="n">dummySections</span><span class="p">[</span><span class="n">section</span><span class="p">]</span><span class="o">.</span><span class="n">title</span>
    <span class="p">}</span>
    
    <span class="c1">/// 섹션이 여러개일때만 사용</span>
    <span class="c1">/// 현재 섹션이 몇개인지</span>
    <span class="kd">func</span> <span class="nf">numberOfSections</span><span class="p">(</span><span class="k">in</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">dummySections</span><span class="o">.</span><span class="n">count</span>
    <span class="p">}</span>
    
    <span class="c1">/// 하나의 섹션에 몇개의 rows가 있냐</span>
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">numberOfRowsInSection</span> <span class="nv">section</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">dummySections</span><span class="p">[</span><span class="n">section</span><span class="p">]</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">count</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">cellForRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UITableViewCell</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">cell</span> <span class="o">=</span> <span class="kt">UITableViewCell</span><span class="p">(</span><span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">subtitle</span><span class="p">,</span> <span class="nv">reuseIdentifier</span><span class="p">:</span> <span class="s">"MyCell"</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">sectionData</span><span class="p">:</span> <span class="kt">DummySection</span> <span class="o">=</span> <span class="n">dummySections</span><span class="p">[</span><span class="n">indexPath</span><span class="o">.</span><span class="n">section</span><span class="p">]</span>
        <span class="k">let</span> <span class="nv">cellData</span><span class="p">:</span> <span class="kt">DummyData</span> <span class="o">=</span> <span class="n">sectionData</span><span class="o">.</span><span class="n">rows</span><span class="p">[</span><span class="n">indexPath</span><span class="o">.</span><span class="n">row</span><span class="p">]</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">textLabel</span><span class="p">?</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">cellData</span><span class="o">.</span><span class="n">title</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">detailTextLabel</span><span class="p">?</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">cellData</span><span class="o">.</span><span class="n">body</span>
        <span class="k">return</span> <span class="n">cell</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UITableViewDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">didSelectRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="k">#fileID</span><span class="p">,</span> <span class="k">#function</span><span class="p">,</span> <span class="k">#line</span><span class="p">,</span> <span class="s">"- indexPath: </span><span class="se">\(</span><span class="n">indexPath</span><span class="o">.</span><span class="n">row</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="예제-4">예제 4</h3>
<ul>
  <li>Fakery 라이블러리 활용</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Foundation</span>
<span class="kd">import</span> <span class="kt">Fakery</span>

<span class="kd">struct</span> <span class="kt">DummySection</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">uuid</span><span class="p">:</span> <span class="kt">UUID</span>
    <span class="k">let</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">body</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">rows</span><span class="p">:</span> <span class="p">[</span><span class="kt">DummyData</span><span class="p">]</span>
    
    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="kt">UUID</span><span class="p">()</span>
        <span class="k">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"섹션 타이틀입니다: </span><span class="se">\(</span><span class="n">uuid</span><span class="se">)</span><span class="s">"</span>
        <span class="k">self</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="s">"섹션 바디입니다: </span><span class="se">\(</span><span class="n">uuid</span><span class="se">)</span><span class="s">"</span>
        <span class="k">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="kt">DummyData</span><span class="o">.</span><span class="nf">getDumies</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">getDumies</span><span class="p">(</span><span class="n">_</span> <span class="nv">count</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">DummySection</span><span class="p">]</span> <span class="p">{</span>
        <span class="nf">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">...</span><span class="n">count</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="kt">DummySection</span><span class="p">()</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">DummyData</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">uuid</span><span class="p">:</span> <span class="kt">UUID</span>
    <span class="k">let</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">body</span><span class="p">:</span> <span class="kt">String</span>
    
    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="kt">UUID</span><span class="p">()</span>
        <span class="k">let</span> <span class="nv">faker</span> <span class="o">=</span> <span class="kt">Faker</span><span class="p">(</span><span class="nv">locale</span><span class="p">:</span> <span class="s">"ko"</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">firstName</span> <span class="o">=</span> <span class="n">faker</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="nf">firstName</span><span class="p">()</span>  <span class="c1">//=&gt; "Emilie"</span>
        <span class="k">let</span> <span class="nv">lastName</span> <span class="o">=</span> <span class="n">faker</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="nf">lastName</span><span class="p">()</span>    <span class="c1">//=&gt; "Hansen"</span>
        
        <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="n">faker</span><span class="o">.</span><span class="n">lorem</span><span class="o">.</span><span class="nf">paragraphs</span><span class="p">(</span><span class="nv">amount</span><span class="p">:</span> <span class="mi">10</span><span class="p">)</span>
        
        <span class="k">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"타이틀입니다: </span><span class="se">\(</span><span class="n">lastName</span><span class="se">)</span><span class="s"> </span><span class="se">\(</span><span class="n">firstName</span><span class="se">)</span><span class="s">"</span>
        <span class="k">self</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="s">"바디입니다: </span><span class="se">\(</span><span class="n">body</span><span class="se">)</span><span class="s">"</span>
    <span class="p">}</span>
    
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">getDumies</span><span class="p">(</span><span class="n">_</span> <span class="nv">count</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">DummyData</span><span class="p">]</span> <span class="p">{</span>
        <span class="nf">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">...</span><span class="n">count</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="kt">DummyData</span><span class="p">()</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">myTableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="o">!</span>
    
    <span class="k">var</span> <span class="nv">dummySections</span><span class="p">:</span> <span class="p">[</span><span class="kt">DummySection</span><span class="p">]</span> <span class="o">=</span> <span class="kt">DummySection</span><span class="o">.</span><span class="nf">getDumies</span><span class="p">()</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        
        <span class="n">myTableView</span><span class="o">.</span><span class="n">dataSource</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">myTableView</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UITableViewDataSource</span> <span class="p">{</span>
    
    <span class="c1">/// 섹션이 여러개일때만 사용</span>
    <span class="c1">/// 섹션의 타이틀 설정</span>
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">titleForHeaderInSection</span> <span class="nv">section</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"헤더: "</span> <span class="o">+</span> <span class="n">dummySections</span><span class="p">[</span><span class="n">section</span><span class="p">]</span><span class="o">.</span><span class="n">title</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">titleForFooterInSection</span> <span class="nv">section</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"푸터: "</span> <span class="o">+</span> <span class="n">dummySections</span><span class="p">[</span><span class="n">section</span><span class="p">]</span><span class="o">.</span><span class="n">title</span>
    <span class="p">}</span>
    
    <span class="c1">/// 섹션이 여러개일때만 사용</span>
    <span class="c1">/// 현재 섹션이 몇개인지</span>
    <span class="kd">func</span> <span class="nf">numberOfSections</span><span class="p">(</span><span class="k">in</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">dummySections</span><span class="o">.</span><span class="n">count</span>
    <span class="p">}</span>
    
    <span class="c1">/// 하나의 섹션에 몇개의 rows가 있냐</span>
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">numberOfRowsInSection</span> <span class="nv">section</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">dummySections</span><span class="p">[</span><span class="n">section</span><span class="p">]</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">count</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">cellForRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UITableViewCell</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">cell</span> <span class="o">=</span> <span class="kt">UITableViewCell</span><span class="p">(</span><span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">subtitle</span><span class="p">,</span> <span class="nv">reuseIdentifier</span><span class="p">:</span> <span class="s">"MyCell"</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">sectionData</span><span class="p">:</span> <span class="kt">DummySection</span> <span class="o">=</span> <span class="n">dummySections</span><span class="p">[</span><span class="n">indexPath</span><span class="o">.</span><span class="n">section</span><span class="p">]</span>
        <span class="k">let</span> <span class="nv">cellData</span><span class="p">:</span> <span class="kt">DummyData</span> <span class="o">=</span> <span class="n">sectionData</span><span class="o">.</span><span class="n">rows</span><span class="p">[</span><span class="n">indexPath</span><span class="o">.</span><span class="n">row</span><span class="p">]</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">textLabel</span><span class="p">?</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">cellData</span><span class="o">.</span><span class="n">title</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">detailTextLabel</span><span class="p">?</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">cellData</span><span class="o">.</span><span class="n">body</span>
        <span class="k">return</span> <span class="n">cell</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UITableViewDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">didSelectRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="k">#fileID</span><span class="p">,</span> <span class="k">#function</span><span class="p">,</span> <span class="k">#line</span><span class="p">,</span> <span class="s">"- indexPath: </span><span class="se">\(</span><span class="n">indexPath</span><span class="o">.</span><span class="n">row</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>]]></content><author><name>Dong Hyeon</name></author><category term="UIKit" /><category term="TableView" /><summary type="html"><![CDATA[1. 테이블 뷰 테이블뷰는 dataSource와 delegate, Cell로 이루어져있다. 구성 dataSource 데이터와 관련된 부분 셀을 어떻게 보여줄 지 데이터 크기, 종류에 따른 셀의 타입 정하기 리스트 개수가 몇개인지 delegate 특정 셀 선택시 엑션과 같은 이벤트 처리 담당 Cell 테이블뷰에 들어가는 각각의 알맹이 예제 1 import UIKit class ViewController: UIViewController { /// Interface Builder에 연결된 테이블 뷰 아울렛 @IBOutlet weak var myTableView: UITableView! /// 더미 데이터 var dummyDataList: [String] = [ "hello world1", "hello world2", "hello world3", "hello world4", "hello world5", "hello world6", "hello world7", "hello world8", "hello world9", ] override func viewDidLoad() { super.viewDidLoad() /// 테이블 뷰의 데이터 소스, 델리겟을 현재 뷰 컨트롤러로 설정 myTableView.dataSource = self myTableView.delegate = self } } /// 프로토콜은 약속이다 -&gt; 준수해야한다 /// DateSource - 데이터 관련된 부분 /// 리스트는 섹션과 섹션안에 아이템들이 있다 /// 테이블뷰에서는 섹션과 로우로 부룬다 /// /// UITableView의 데이터 관리 역할을 담당 extension ViewController: UITableViewDataSource { /// 섹션 내 보여줄 셀의 개수를 반환 /// - section: 섹션 인덱스 (기본적으로 1개 섹션 사용 중) /// - returns: 행(Row)의 개수 func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int { return dummyDataList.count } /// 각 셀에 대한 내용을 구성하여 반환 -&gt; 셀의 종류를 정하기 - 테이블뷰 셀을 만들어서 반환해라 /// - indexPath: 셀의 위치를 나타내는 인덱스 경로 /// - returns: 구성된 UITableViewCell 객체 func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell { /// 기본 스타일의 셀 생성 (textLabel과 detailTextLabel 포함) let cell = UITableViewCell(style: .subtitle, reuseIdentifier: "MyCell") /// 셀의 주 텍스트를 더미 데이터에서 가져오기 cell.textLabel?.text = dummyDataList[indexPath.row] /// 셀의 서브 타이틀 설정 cell.detailTextLabel?.text = "테스트" return cell } } /// 이벤트 관련 부분 - 셀 선택 등 사용자 인터랙션(이벤트) 관련 처리 extension ViewController: UITableViewDelegate { /// 사용자가 특정 셀을 선택했을 때 호출되는 메서드 /// - Parameters: /// - tableView: 이벤트가 발생한 테이블 뷰 /// - indexPath: 선택된 셀의 위치 func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) { print(#fileID, #function, #line, "- indexPath: \(indexPath.row)") } } 예제 2 더미 데이터 활용 struct DummyData { let uuid: UUID let title: String let body: String init() { self.uuid = UUID() self.title = "타이틀입니다: \(uuid)" self.body = "바디입니다: \(uuid)" } static func getDumies(_ count: Int = 100) -&gt; [DummyData] { return (1...count).map { _ in DummyData() } } } import UIKit class ViewController: UIViewController { @IBOutlet weak var myTableView: UITableView! var dummyDataList: [DummyData] = DummyData.getDumies() override func viewDidLoad() { super.viewDidLoad() myTableView.dataSource = self myTableView.delegate = self } } extension ViewController: UITableViewDataSource { func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int { return dummyDataList.count } func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell { let cell = UITableViewCell(style: .subtitle, reuseIdentifier: "MyCell") let cellData: DummyData = dummyDataList[indexPath.row] cell.textLabel?.text = cellData.title cell.detailTextLabel?.text = cellData.body return cell } } extension ViewController: UITableViewDelegate { func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) { print(#fileID, #function, #line, "- indexPath: \(indexPath.row)") } } 예제 3 섹션의 header와 footer 활용 import Foundation struct DummySection { let uuid: UUID let title: String let body: String let rows: [DummyData] init() { self.uuid = UUID() self.title = "섹션 타이틀입니다: \(uuid)" self.body = "섹션 바디입니다: \(uuid)" self.rows = DummyData.getDumies(10) } static func getDumies(_ count: Int = 100) -&gt; [DummySection] { return (1...count).map { _ in DummySection() } } } struct DummyData { let uuid: UUID let title: String let body: String init() { self.uuid = UUID() self.title = "타이틀입니다: \(uuid)" self.body = "바디입니다: \(uuid)" } static func getDumies(_ count: Int = 100) -&gt; [DummyData] { return (1...count).map { _ in DummyData() } } } import UIKit class ViewController: UIViewController { @IBOutlet weak var myTableView: UITableView! var dummySections: [DummySection] = DummySection.getDumies() override func viewDidLoad() { super.viewDidLoad() myTableView.dataSource = self myTableView.delegate = self } } extension ViewController: UITableViewDataSource { /// 섹션이 여러개일때만 사용 /// 섹션의 타이틀 설정 func tableView(_ tableView: UITableView, titleForHeaderInSection section: Int) -&gt; String? { return "헤더: " + dummySections[section].title } func tableView(_ tableView: UITableView, titleForFooterInSection section: Int) -&gt; String? { return "푸터: " + dummySections[section].title } /// 섹션이 여러개일때만 사용 /// 현재 섹션이 몇개인지 func numberOfSections(in tableView: UITableView) -&gt; Int { return dummySections.count } /// 하나의 섹션에 몇개의 rows가 있냐 func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int { return dummySections[section].rows.count } func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell { let cell = UITableViewCell(style: .subtitle, reuseIdentifier: "MyCell") let sectionData: DummySection = dummySections[indexPath.section] let cellData: DummyData = sectionData.rows[indexPath.row] cell.textLabel?.text = cellData.title cell.detailTextLabel?.text = cellData.body return cell } } extension ViewController: UITableViewDelegate { func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) { print(#fileID, #function, #line, "- indexPath: \(indexPath.row)") } } 예제 4 Fakery 라이블러리 활용 import Foundation import Fakery struct DummySection { let uuid: UUID let title: String let body: String let rows: [DummyData] init() { self.uuid = UUID() self.title = "섹션 타이틀입니다: \(uuid)" self.body = "섹션 바디입니다: \(uuid)" self.rows = DummyData.getDumies(10) } static func getDumies(_ count: Int = 100) -&gt; [DummySection] { return (1...count).map { _ in DummySection() } } } struct DummyData { let uuid: UUID let title: String let body: String init() { self.uuid = UUID() let faker = Faker(locale: "ko") let firstName = faker.name.firstName() //=&gt; "Emilie" let lastName = faker.name.lastName() //=&gt; "Hansen" let body = faker.lorem.paragraphs(amount: 10) self.title = "타이틀입니다: \(lastName) \(firstName)" self.body = "바디입니다: \(body)" } static func getDumies(_ count: Int = 100) -&gt; [DummyData] { return (1...count).map { _ in DummyData() } } } import UIKit class ViewController: UIViewController { @IBOutlet weak var myTableView: UITableView! var dummySections: [DummySection] = DummySection.getDumies() override func viewDidLoad() { super.viewDidLoad() myTableView.dataSource = self myTableView.delegate = self } } extension ViewController: UITableViewDataSource { /// 섹션이 여러개일때만 사용 /// 섹션의 타이틀 설정 func tableView(_ tableView: UITableView, titleForHeaderInSection section: Int) -&gt; String? { return "헤더: " + dummySections[section].title } func tableView(_ tableView: UITableView, titleForFooterInSection section: Int) -&gt; String? { return "푸터: " + dummySections[section].title } /// 섹션이 여러개일때만 사용 /// 현재 섹션이 몇개인지 func numberOfSections(in tableView: UITableView) -&gt; Int { return dummySections.count } /// 하나의 섹션에 몇개의 rows가 있냐 func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int { return dummySections[section].rows.count } func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell { let cell = UITableViewCell(style: .subtitle, reuseIdentifier: "MyCell") let sectionData: DummySection = dummySections[indexPath.section] let cellData: DummyData = sectionData.rows[indexPath.row] cell.textLabel?.text = cellData.title cell.detailTextLabel?.text = cellData.body return cell } } extension ViewController: UITableViewDelegate { func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) { print(#fileID, #function, #line, "- indexPath: \(indexPath.row)") } }]]></summary></entry><entry><title type="html">[UIKit]-Delegate Pattern란?</title><link href="http://localhost:4000/UIKit-delegate/" rel="alternate" type="text/html" title="[UIKit]-Delegate Pattern란?" /><published>2025-04-29T00:00:00+00:00</published><updated>2025-04-29T00:00:00+00:00</updated><id>http://localhost:4000/%5BUIKit%5D-delegate</id><content type="html" xml:base="http://localhost:4000/UIKit-delegate/"><![CDATA[<h2 id="1-delegate-조건">1. Delegate 조건</h2>
<p>UIKit 클론코딩을 하다 보면 여러가지 상황에서 Delegate Protocol을 채택하고 Protocol 내부에서 제공하는 method를 사용하게 된다. UITextField, UITableView에서도 기능을 구현할 때 흔하게 사용되는 방식이다. Apple에서 우리가 유용하게 사용할 만한 기능들을 함수에 담아 미리 구현해두고 우리가 추가적인 코드를 작성함으로서 우리가 원하는 방식대로 앱이 동작하게 할 수 있다.</p>

<h3 id="delegate-pattern-은-아래의-조건을-총족함으로서-사용할-수-있다">Delegate Pattern 은 아래의 조건을 총족함으로서 사용할 수 있다.</h3>
<h3 id="delegate를-생성하는-뷰">Delegate를 생성하는 뷰</h3>
<ol>
  <li>Protocol을 생성하고, 구현하고 싶은 기능을 해당 Protocol의 메서드로 생성</li>
  <li>Protocol을 Type으로 갖는 Delegate 인스턴스 생성</li>
  <li>생성한 method가 동작해야하는 상황에 코드 작성</li>
</ol>

<h3 id="delegate를-위임받는-뷰">Delegate를 위임받는 뷰</h3>
<ol>
  <li>ViewController에 Delegate Protocol을 채택</li>
  <li>Protocol 필수 method 구현</li>
  <li>Delegate 위임</li>
</ol>

<h2 id="2-준비">2. 준비</h2>
<h3 id="firstviewcontroller는-결과값을-표시할-label-두번째-controller를-뛰울-button">FirstViewController는 결과값을 표시할 Label, 두번째 Controller를 뛰울 Button</h3>
<h3 id="secondviewcontroller는-결과값을-입력받을-textfield와-첫번째-controller로-돌아갈-수-있는-button을-배치">SecondViewController는 결과값을 입력받을 TextField와 첫번째 Controller로 돌아갈 수 있는 Button을 배치</h3>

<h3 id="protocol">Protocol</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">/// 1</span>
<span class="kd">protocol</span> <span class="kt">CustomTextFieldDelegate</span><span class="p">:</span> <span class="kt">AnyObject</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">textDidInput</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="firstviewcontroller">FirstViewController</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//</span>
<span class="c1">//  FirstViewController.swift</span>
<span class="c1">//  MyDelegate</span>
<span class="c1">//</span>
<span class="c1">//  Created by 김동현 on 4/30/25.</span>
<span class="c1">//</span>

<span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">final</span> <span class="kd">class</span> <span class="kt">FirstViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    
    <span class="c1">// MARK: - UI Components</span>
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">myLabel</span><span class="p">:</span> <span class="kt">UILabel</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">label</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>
        <span class="n">label</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">"hello world"</span>
        <span class="n">label</span><span class="o">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span>
        <span class="k">return</span> <span class="n">label</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">nextButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">button</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">()</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">setTitle</span><span class="p">(</span><span class="s">"secondView"</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">normal</span><span class="p">)</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">setTitleColor</span><span class="p">(</span><span class="o">.</span><span class="n">black</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">normal</span><span class="p">)</span>
        <span class="n">button</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">systemMint</span>
        <span class="n">button</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">20</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">goNextView</span><span class="p">),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">button</span>
    <span class="p">}()</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        <span class="nf">makeUI</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">makeUI</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// MARK: - 뷰 추가</span>
        <span class="p">[</span><span class="n">myLabel</span><span class="p">,</span> <span class="n">nextButton</span><span class="p">]</span><span class="o">.</span><span class="n">forEach</span> <span class="p">{</span>
            <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span>
            <span class="nv">$0</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="p">}</span>
        
        <span class="c1">// MARK: - 제약조건 설정</span>
        <span class="c1">// 레이블</span>
        <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
            <span class="n">myLabel</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">),</span>
            <span class="n">myLabel</span><span class="o">.</span><span class="n">centerYAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerYAnchor</span><span class="p">)</span>
        <span class="p">])</span>
        
        <span class="c1">// 버튼</span>
        <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
            <span class="c1">// 위치 제약</span>
            <span class="n">nextButton</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="o">-</span><span class="mi">50</span><span class="p">),</span>
            <span class="n">nextButton</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">),</span>
            
            <span class="c1">// 크기 제약</span>
            <span class="n">nextButton</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">50</span><span class="p">),</span>
            <span class="n">nextButton</span><span class="o">.</span><span class="n">widthAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">200</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="p">}</span>
    
    <span class="kd">@objc</span>
    <span class="kd">func</span> <span class="nf">goNextView</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">secondVC</span> <span class="o">=</span> <span class="kt">SecondViewController</span><span class="p">()</span>
        <span class="n">secondVC</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">secondVC</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">/// 3</span>
<span class="kd">extension</span> <span class="kt">FirstViewController</span><span class="p">:</span> <span class="kt">CustomTextFieldDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">textDidInput</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">#Preview {</span>
    <span class="kt">FirstViewController</span><span class="p">()</span>
<span class="p">}</span>

</code></pre></div></div>

<h3 id="secondviewcontroller">SecondViewController</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//</span>
<span class="c1">//  SecondViewController.swift</span>
<span class="c1">//  MyDelegate</span>
<span class="c1">//</span>
<span class="c1">//  Created by 김동현 on 4/30/25.</span>
<span class="c1">//</span>

<span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">final</span> <span class="kd">class</span> <span class="kt">SecondViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    <span class="c1">/// 2</span>
    <span class="k">weak</span> <span class="k">var</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kt">CustomTextFieldDelegate</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
    
    <span class="c1">// MARK: - UI Components</span>
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">texxtField</span><span class="p">:</span> <span class="kt">UITextField</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">textField</span> <span class="o">=</span> <span class="kt">UITextField</span><span class="p">()</span>
        
        <span class="c1">// placeholder 스타일</span>
        <span class="n">textField</span><span class="o">.</span><span class="n">attributedPlaceholder</span> <span class="o">=</span> <span class="kt">NSAttributedString</span><span class="p">(</span>
            <span class="nv">string</span><span class="p">:</span> <span class="s">"입력해주세요"</span><span class="p">,</span>
            <span class="nv">attributes</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">UIColor</span><span class="o">.</span><span class="n">lightGray</span><span class="p">]</span>
        <span class="p">)</span>
        
        <span class="c1">// 왼쪽 여백</span>
        <span class="n">textField</span><span class="o">.</span><span class="n">leftView</span> <span class="o">=</span> <span class="kt">UIView</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">width</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">textField</span><span class="o">.</span><span class="n">leftViewMode</span> <span class="o">=</span> <span class="o">.</span><span class="n">always</span>
        
        <span class="c1">// 테두리 스타일</span>
        <span class="n">textField</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">borderColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="o">.</span><span class="n">black</span><span class="o">.</span><span class="n">cgColor</span> <span class="c1">// 테두리 색상</span>
        <span class="n">textField</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">borderWidth</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="c1">// 테두리 둑께</span>
        <span class="n">textField</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1">// 둘글게</span>
        
        <span class="k">return</span> <span class="n">textField</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">endButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">button</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">()</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">setTitle</span><span class="p">(</span><span class="s">"secondView"</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">normal</span><span class="p">)</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">setTitleColor</span><span class="p">(</span><span class="o">.</span><span class="n">black</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">normal</span><span class="p">)</span>
        <span class="n">button</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">systemMint</span>
        <span class="n">button</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">20</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">goBack</span><span class="p">),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">button</span>
    <span class="p">}()</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        <span class="n">view</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">darkGray</span>
        <span class="c1">/// print("delegate 상태:", delegate as Any)</span>
        <span class="nf">makeUI</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">makeUI</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// MARK: - 뷰 추가</span>
        <span class="p">[</span><span class="n">texxtField</span><span class="p">,</span> <span class="n">endButton</span><span class="p">]</span><span class="o">.</span><span class="n">forEach</span> <span class="p">{</span>
            <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span>
            <span class="nv">$0</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="p">}</span>
        
        <span class="c1">// MARK: - 제약조건 설정</span>
        <span class="c1">// 텍스트필드</span>
        <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
            <span class="c1">// 위치</span>
            <span class="n">texxtField</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">),</span>
            <span class="n">texxtField</span><span class="o">.</span><span class="n">centerYAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerYAnchor</span><span class="p">),</span>
            
            <span class="c1">// 크기</span>
            <span class="n">texxtField</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">50</span><span class="p">),</span>
            <span class="n">texxtField</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="mi">20</span><span class="p">)</span>
        <span class="p">])</span>
        
        <span class="c1">// 버튼</span>
        <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
            <span class="c1">// 위치 제약</span>
            <span class="n">endButton</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="o">-</span><span class="mi">50</span><span class="p">),</span>
            <span class="n">endButton</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">),</span>
            
            <span class="c1">// 크기 제약</span>
            <span class="n">endButton</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">50</span><span class="p">),</span>
            <span class="n">endButton</span><span class="o">.</span><span class="n">widthAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">200</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="p">}</span>
    
    <span class="kd">@objc</span>
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">goBack</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">text</span> <span class="o">=</span> <span class="n">texxtField</span><span class="o">.</span><span class="n">text</span> <span class="p">??</span> <span class="s">""</span>
        <span class="k">self</span><span class="o">.</span><span class="n">delegate</span><span class="p">?</span><span class="o">.</span><span class="nf">textDidInput</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="n">text</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">dismiss</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">#Preview {</span>
    <span class="kt">FirstViewController</span><span class="p">()</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="3-delegate-pattern-연습">3. Delegate Pattern 연습</h2>
<h3 id="protocol-구현하기">Protocol 구현하기</h3>
<p>구현하고자 하는 method를 Protocol을 생성하고 그 내부에 만들어 주어야 한다. Protocol은 class을 Type으로 가진다. class Type을 가지게 되면 이후 생성할 delegate 인스턴스를 weak 형태로 생성할 수 있다.</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 1. 프로토콜 정의 (class 전용)</span>
<span class="kd">protocol</span> <span class="kt">ChatDelegate</span><span class="p">:</span> <span class="kt">AnyObject</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">didReceiveMessage</span><span class="p">(</span><span class="n">_</span> <span class="nv">message</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 2. 메시지를 받는 쪽 (delegate를 호출하는 쪽)</span>
<span class="kd">class</span> <span class="kt">ChatRoom</span> <span class="p">{</span>
    <span class="c1">// 2.1 순환 참조 방지를 위해 반드시 weak 사용</span>
    <span class="c1">// 프로토콜에 AnyObject 또는 class 제약을 반드시 붙여야 함</span>
    <span class="k">weak</span> <span class="k">var</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kt">ChatDelegate</span><span class="p">?</span>

    <span class="kd">func</span> <span class="nf">receiveNewMessage</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">message</span> <span class="o">=</span> <span class="s">"안녕하세요!"</span>
        <span class="n">delegate</span><span class="p">?</span><span class="o">.</span><span class="nf">didReceiveMessage</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 3. 메시지를 표시할 화면 (delegate를 구현하는 쪽)</span>
<span class="kd">class</span> <span class="kt">ChatViewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">ChatDelegate</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">chatRoom</span> <span class="o">=</span> <span class="kt">ChatRoom</span><span class="p">()</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        <span class="n">chatRoom</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span> <span class="c1">// 위임 설정</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">didReceiveMessage</span><span class="p">(</span><span class="n">_</span> <span class="nv">message</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"받은 메시지: </span><span class="se">\(</span><span class="n">message</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>이 실습에서는 SecondViewController 의 UITextField 에 입력받은 내용을 FirstViewController 의 UILabel 에 전달해야하므로 우리가 구현할 method 는 String 을 Parameter 로 전달 받는다.</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">CustomTextFieldDelegate</span><span class="p">:</span> <span class="kt">AnyObject</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">textDidInput</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="delegate-인스턴스-생성하기">Delegate 인스턴스 생성하기</h3>
<p>SecondViewController에서 delegate 인스턴스를 생성한다. delegate인스턴스는 CustomTextFieldDelegate를 타입으로 가짐으로서 이 인스턴스에 접근해서 우리가 Protocol 내부에 작성해두었던 함수에 접근할 수 있게 된다.</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// weak 을 사용해 ARC 가 증가하지 않도록 만들어줌으로서 메모리 Leak 이 발생하지 않도록 방지해주는 것이 중요</span>
<span class="k">weak</span> <span class="k">var</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kt">CustomTextFieldDelegate</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
</code></pre></div></div>

<h3 id="protocol-채택-및-필수-method-구현">Protocol 채택 및 필수 method 구현</h3>
<p>Protocol을 채택시 우리가 생성한 Protocol을 채택하고 method까지 함께 구현한다.<br />
Protocol을 채택할 때는 반드시 Extension으로 주어야 하는 것은 아니지만 필자는 가독성이 좋다고 판단하여 Extension으로 Delegate를 채택하는 것을 선호한다.<br />
Protocol 이 채택되고 나면 경고창이 뜨면서 필수 함수를 구현하라고 나오는데 이 때 Xcode 가 지원하는 자동에러처리를 사용하면 함수 하나가 생성된다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">/// 3</span>
<span class="kd">extension</span> <span class="kt">FirstViewController</span><span class="p">:</span> <span class="kt">CustomTextFieldDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">textDidInput</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="delegate-위임하기">Delegate 위임하기</h3>
<p>delegate 인스턴스를 생성했을 때 Optional 형태로 생성하였다. 이 값에 CustomTextFieldDelegate를 채택한 FirstViewController를 할당해준다.<br />
실제 Input은 SecondViewController에서 이루어지지만 그 값에 대한 처리가 FirstViewController에서 대행하겠다는 일종의 명시이다.<br />
위임 방법은 FirstViewController에서 화면을 present할 때 구현해놓은 nextVC의 delegate에 접근에서 설정할 수 있다</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@objc</span>
<span class="kd">func</span> <span class="nf">goNextView</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">secondVC</span> <span class="o">=</span> <span class="kt">SecondViewController</span><span class="p">()</span>
    <span class="n">secondVC</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">secondVC</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="secondviewcontroller에서-함수가-동작해야하는-시점-설정">SecondViewController에서 함수가 동작해야하는 시점 설정</h2>
<p>우리가 원하는 타이밍에 함수가 작동할 수 있도록 코드 구현. 화면을 전달하면서 값을 전달하면된다. delegate의 textDidInput함수를 호출하는 시점이 결정되었고 이제 버튼이 눌리게 되면 View 가 Dismiss 되기 전 이 함수를 호출하며 FirstViewController 가 값을 전달받게 된다. 이게 가능한 이유는 SecondViewController 가 present 되기 전 우리가 FirstViewController 를 delegate 로 설정해주었기 때문이다.</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@objc</span>
<span class="kd">private</span> <span class="kd">func</span> <span class="nf">goBack</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">text</span> <span class="o">=</span> <span class="n">texxtField</span><span class="o">.</span><span class="n">text</span> <span class="p">??</span> <span class="s">""</span>
    <span class="k">self</span><span class="o">.</span><span class="n">delegate</span><span class="p">?</span><span class="o">.</span><span class="nf">textDidInput</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="n">text</span><span class="p">)</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">dismiss</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="reference">Reference</h2>
<ul>
  <li>https://kasroid.github.io/posts/ios/20201010-uikit-delegate-pattern/</li>
</ul>]]></content><author><name>Dong Hyeon</name></author><category term="UIKit" /><summary type="html"><![CDATA[1. Delegate 조건 UIKit 클론코딩을 하다 보면 여러가지 상황에서 Delegate Protocol을 채택하고 Protocol 내부에서 제공하는 method를 사용하게 된다. UITextField, UITableView에서도 기능을 구현할 때 흔하게 사용되는 방식이다. Apple에서 우리가 유용하게 사용할 만한 기능들을 함수에 담아 미리 구현해두고 우리가 추가적인 코드를 작성함으로서 우리가 원하는 방식대로 앱이 동작하게 할 수 있다. Delegate Pattern 은 아래의 조건을 총족함으로서 사용할 수 있다. Delegate를 생성하는 뷰 Protocol을 생성하고, 구현하고 싶은 기능을 해당 Protocol의 메서드로 생성 Protocol을 Type으로 갖는 Delegate 인스턴스 생성 생성한 method가 동작해야하는 상황에 코드 작성 Delegate를 위임받는 뷰 ViewController에 Delegate Protocol을 채택 Protocol 필수 method 구현 Delegate 위임 2. 준비 FirstViewController는 결과값을 표시할 Label, 두번째 Controller를 뛰울 Button SecondViewController는 결과값을 입력받을 TextField와 첫번째 Controller로 돌아갈 수 있는 Button을 배치 Protocol /// 1 protocol CustomTextFieldDelegate: AnyObject { func textDidInput(text: String) } FirstViewController // // FirstViewController.swift // MyDelegate // // Created by 김동현 on 4/30/25. // import UIKit final class FirstViewController: UIViewController { // MARK: - UI Components private lazy var myLabel: UILabel = { let label = UILabel() label.text = "hello world" label.textColor = .white return label }() private lazy var nextButton: UIButton = { let button = UIButton() button.setTitle("secondView", for: .normal) button.setTitleColor(.black, for: .normal) button.backgroundColor = .systemMint button.layer.cornerRadius = 20 button.addTarget(self, action: #selector(goNextView), for: .touchUpInside) return button }() override func viewDidLoad() { super.viewDidLoad() makeUI() } func makeUI() { // MARK: - 뷰 추가 [myLabel, nextButton].forEach { view.addSubview($0) $0.translatesAutoresizingMaskIntoConstraints = false } // MARK: - 제약조건 설정 // 레이블 NSLayoutConstraint.activate([ myLabel.centerXAnchor.constraint(equalTo: view.centerXAnchor), myLabel.centerYAnchor.constraint(equalTo: view.centerYAnchor) ]) // 버튼 NSLayoutConstraint.activate([ // 위치 제약 nextButton.bottomAnchor.constraint(equalTo: view.bottomAnchor, constant: -50), nextButton.centerXAnchor.constraint(equalTo: view.centerXAnchor), // 크기 제약 nextButton.heightAnchor.constraint(equalToConstant: 50), nextButton.widthAnchor.constraint(equalToConstant: 200) ]) } @objc func goNextView() { let secondVC = SecondViewController() secondVC.delegate = self self.present(secondVC, animated: true) } } /// 3 extension FirstViewController: CustomTextFieldDelegate { func textDidInput(text: String) { myLabel.text = text } } #Preview { FirstViewController() } SecondViewController // // SecondViewController.swift // MyDelegate // // Created by 김동현 on 4/30/25. // import UIKit final class SecondViewController: UIViewController { /// 2 weak var delegate: CustomTextFieldDelegate? = nil // MARK: - UI Components private lazy var texxtField: UITextField = { let textField = UITextField() // placeholder 스타일 textField.attributedPlaceholder = NSAttributedString( string: "입력해주세요", attributes: [.foregroundColor: UIColor.lightGray] ) // 왼쪽 여백 textField.leftView = UIView(frame: CGRect(x: 0, y: 0, width: 10, height: 0)) textField.leftViewMode = .always // 테두리 스타일 textField.layer.borderColor = UIColor.black.cgColor // 테두리 색상 textField.layer.borderWidth = 1.0 // 테두리 둑께 textField.layer.cornerRadius = 10 // 둘글게 return textField }() private lazy var endButton: UIButton = { let button = UIButton() button.setTitle("secondView", for: .normal) button.setTitleColor(.black, for: .normal) button.backgroundColor = .systemMint button.layer.cornerRadius = 20 button.addTarget(self, action: #selector(goBack), for: .touchUpInside) return button }() override func viewDidLoad() { super.viewDidLoad() view.backgroundColor = .darkGray /// print("delegate 상태:", delegate as Any) makeUI() } private func makeUI() { // MARK: - 뷰 추가 [texxtField, endButton].forEach { view.addSubview($0) $0.translatesAutoresizingMaskIntoConstraints = false } // MARK: - 제약조건 설정 // 텍스트필드 NSLayoutConstraint.activate([ // 위치 texxtField.centerXAnchor.constraint(equalTo: view.centerXAnchor), texxtField.centerYAnchor.constraint(equalTo: view.centerYAnchor), // 크기 texxtField.heightAnchor.constraint(equalToConstant: 50), texxtField.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 20) ]) // 버튼 NSLayoutConstraint.activate([ // 위치 제약 endButton.bottomAnchor.constraint(equalTo: view.bottomAnchor, constant: -50), endButton.centerXAnchor.constraint(equalTo: view.centerXAnchor), // 크기 제약 endButton.heightAnchor.constraint(equalToConstant: 50), endButton.widthAnchor.constraint(equalToConstant: 200) ]) } @objc private func goBack() { let text = texxtField.text ?? "" self.delegate?.textDidInput(text: text) self.dismiss(animated: true) } } #Preview { FirstViewController() } 3. Delegate Pattern 연습 Protocol 구현하기 구현하고자 하는 method를 Protocol을 생성하고 그 내부에 만들어 주어야 한다. Protocol은 class을 Type으로 가진다. class Type을 가지게 되면 이후 생성할 delegate 인스턴스를 weak 형태로 생성할 수 있다. // 1. 프로토콜 정의 (class 전용) protocol ChatDelegate: AnyObject { func didReceiveMessage(_ message: String) } // 2. 메시지를 받는 쪽 (delegate를 호출하는 쪽) class ChatRoom { // 2.1 순환 참조 방지를 위해 반드시 weak 사용 // 프로토콜에 AnyObject 또는 class 제약을 반드시 붙여야 함 weak var delegate: ChatDelegate? func receiveNewMessage() { let message = "안녕하세요!" delegate?.didReceiveMessage(message) } } // 3. 메시지를 표시할 화면 (delegate를 구현하는 쪽) class ChatViewController: UIViewController, ChatDelegate { let chatRoom = ChatRoom() override func viewDidLoad() { super.viewDidLoad() chatRoom.delegate = self // 위임 설정 } func didReceiveMessage(_ message: String) { print("받은 메시지: \(message)") } } 이 실습에서는 SecondViewController 의 UITextField 에 입력받은 내용을 FirstViewController 의 UILabel 에 전달해야하므로 우리가 구현할 method 는 String 을 Parameter 로 전달 받는다. protocol CustomTextFieldDelegate: AnyObject { func textDidInput(text: String) } Delegate 인스턴스 생성하기 SecondViewController에서 delegate 인스턴스를 생성한다. delegate인스턴스는 CustomTextFieldDelegate를 타입으로 가짐으로서 이 인스턴스에 접근해서 우리가 Protocol 내부에 작성해두었던 함수에 접근할 수 있게 된다. // weak 을 사용해 ARC 가 증가하지 않도록 만들어줌으로서 메모리 Leak 이 발생하지 않도록 방지해주는 것이 중요 weak var delegate: CustomTextFieldDelegate? = nil Protocol 채택 및 필수 method 구현 Protocol을 채택시 우리가 생성한 Protocol을 채택하고 method까지 함께 구현한다. Protocol을 채택할 때는 반드시 Extension으로 주어야 하는 것은 아니지만 필자는 가독성이 좋다고 판단하여 Extension으로 Delegate를 채택하는 것을 선호한다. Protocol 이 채택되고 나면 경고창이 뜨면서 필수 함수를 구현하라고 나오는데 이 때 Xcode 가 지원하는 자동에러처리를 사용하면 함수 하나가 생성된다. /// 3 extension FirstViewController: CustomTextFieldDelegate { func textDidInput(text: String) { myLabel.text = text } } Delegate 위임하기 delegate 인스턴스를 생성했을 때 Optional 형태로 생성하였다. 이 값에 CustomTextFieldDelegate를 채택한 FirstViewController를 할당해준다. 실제 Input은 SecondViewController에서 이루어지지만 그 값에 대한 처리가 FirstViewController에서 대행하겠다는 일종의 명시이다. 위임 방법은 FirstViewController에서 화면을 present할 때 구현해놓은 nextVC의 delegate에 접근에서 설정할 수 있다 @objc func goNextView() { let secondVC = SecondViewController() secondVC.delegate = self self.present(secondVC, animated: true) } SecondViewController에서 함수가 동작해야하는 시점 설정 우리가 원하는 타이밍에 함수가 작동할 수 있도록 코드 구현. 화면을 전달하면서 값을 전달하면된다. delegate의 textDidInput함수를 호출하는 시점이 결정되었고 이제 버튼이 눌리게 되면 View 가 Dismiss 되기 전 이 함수를 호출하며 FirstViewController 가 값을 전달받게 된다. 이게 가능한 이유는 SecondViewController 가 present 되기 전 우리가 FirstViewController 를 delegate 로 설정해주었기 때문이다. @objc private func goBack() { let text = texxtField.text ?? "" self.delegate?.textDidInput(text: text) self.dismiss(animated: true) } Reference https://kasroid.github.io/posts/ios/20201010-uikit-delegate-pattern/]]></summary></entry><entry><title type="html">[RxSwift2]-RxSwift개념</title><link href="http://localhost:4000/RxSwift-RxSwift-2/" rel="alternate" type="text/html" title="[RxSwift2]-RxSwift개념" /><published>2025-04-21T00:00:00+00:00</published><updated>2025-04-21T00:00:00+00:00</updated><id>http://localhost:4000/%5BRxSwift%5D-RxSwift-2</id><content type="html" xml:base="http://localhost:4000/RxSwift-RxSwift-2/"><![CDATA[<p><img src="/assets/img/2025-03-25-[RxSwift]-RxSwift-1/image.png" alt="clean1" style="width: 70%;" /></p>

<h2 id="1-rx란">1. Rx란?</h2>
<p>파이프라인 연결이다</p>

<h2 id="2-구성">2. 구성</h2>
<ul>
  <li>보내는 것 - Observable</li>
  <li>연결 - subScribe</li>
  <li>중간처리 - 연산자</li>
</ul>

<h2 id="3-큰-개념">3. 큰 개념</h2>
<h3 id="보내는-것---옴저버블총알--구독-가능한-것">보내는 것 - 옴저버블(총알 = 구독 가능한 것)</h3>
<ol>
  <li>Observable
    <ul>
      <li>가장 기본 베이스, 생성하자마자 이벤트를 전달한다</li>
      <li>.onNext(), .onError(), .onCompleted()를 통해 이벤트를 받을 수 있다</li>
      <li>.subscribe()를 통해 이벤트를 발행 가능</li>
      <li>이벤트를 정의하고, 정적인 스트림 생성(한방향: 선언 -&gt; 구독)</li>
    </ul>
  </li>
  <li>Subject
    <ul>
      <li>Observable(구독 가능한 것)이면서 Observer(관찰자)</li>
      <li>일단 연결을 해두고 원하는 시점에 이벤트를 보낸다.</li>
      <li>외부에서 직접 값을 넣고, 동적인 스트림 생성(양방향)</li>
      <li>BehaviorSubject - 상태</li>
    </ul>
    <ul>
      <li>초기값 필수</li>
      <li>구독 시, 가장 최신값 1개를 즉시 전달받음</li>
      <li>이후에는 일반 Observable처럼 .onNext 이벤트를 수신<br />
      - PublishSubjcet - 단방향 이벤트</li>
      <li>구독 이후 이벤트만 받음(초기값 없음)</li>
      <li>주로 이벤트 전달용</li>
    </ul>
  </li>
  <li>Relay
    <ul>
      <li>Subject의 변형으로, error가 없고 UI바인딩에 최적화</li>
      <li>PublishRelay
        <ul>
          <li>단방향 이벤트 전달(버튼 클릭)</li>
        </ul>
      </li>
      <li>BehaviorRelay
        <ul>
          <li>상태 저장, 초기값 필수 -&gt; accept() 사용</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Driver
    <ul>
      <li>메인스레드, share(1)</li>
      <li>UI 바인딩 전용으로 사용되는 옵저버블</li>
    </ul>
  </li>
</ol>

<h3 id="구독">구독</h3>
<ol>
  <li>subscribe(onNext:)
    <ul>
      <li>next, error, completed 시퀀스 이벤트를 받을 수 있다</li>
      <li>직점 onError 처리 가능하다</li>
      <li>viewModel 내부, 로직 처리, 이벤트 감지, 에러 대응</li>
      <li>Disposable 반환해야한다</li>
      <li>모든 Observable계열 구독 가능</li>
      <li>bind(onNext:) 보다 범용적, 완료/에러 받을 수 있다</li>
    </ul>
  </li>
  <li>bind(to:)
    <ul>
      <li>UI 컴포넌트 프로퍼티에 바인딩할 때 사용</li>
      <li>구독과 동시에 값이 특정 속성에 직접 들어가는 방식</li>
      <li>값을 특정UI의 속성에 직접 구독해서 바인딩
        <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// label.text = title처럼 자동으로 연결하는 직접 바인딩 방식</span>
<span class="n">viewModel</span><span class="o">.</span><span class="n">title</span>
 <span class="o">.</span><span class="nf">bind</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="n">label</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
 <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>bind(onNext:)
    <ul>
      <li>단순히 이벤트를 수신하고 구독 형태</li>
      <li>내부에 명시적으로 처리 로직을 작성해야 함</li>
      <li>값을 받아서 직접 처리(프린트, 로직 실행)하는 방식으로 구독
        <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">viewModel</span><span class="o">.</span><span class="n">title</span>
 <span class="o">.</span><span class="nf">bind</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="n">text</span> <span class="k">in</span>
   <span class="nf">print</span><span class="p">(</span><span class="s">"값 출력: </span><span class="se">\(</span><span class="n">text</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
 <span class="p">})</span>
 <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>비교<br />
```swift<br />
// 1. 자동 UI 업데이트 (bind to UI)<br />
viewModel.username // Observable<String>
 .bind(to: label.rx.text) // 📲 label.text = 값
 .disposed(by: disposeBag)</String></li>
</ol>

<p>// 2. 내가 직접 프린트 (bind with closure)<br />
viewModel.username<br />
    .bind(onNext: { name in<br />
        print(“유저 이름은 (name)”)<br />
    })<br />
    .disposed(by: disposeBag)<br />
```</p>]]></content><author><name>Dong Hyeon</name></author><category term="RxSwift" /><summary type="html"><![CDATA[1. Rx란? 파이프라인 연결이다 2. 구성 보내는 것 - Observable 연결 - subScribe 중간처리 - 연산자 3. 큰 개념 보내는 것 - 옴저버블(총알 = 구독 가능한 것) Observable 가장 기본 베이스, 생성하자마자 이벤트를 전달한다 .onNext(), .onError(), .onCompleted()를 통해 이벤트를 받을 수 있다 .subscribe()를 통해 이벤트를 발행 가능 이벤트를 정의하고, 정적인 스트림 생성(한방향: 선언 -&gt; 구독) Subject Observable(구독 가능한 것)이면서 Observer(관찰자) 일단 연결을 해두고 원하는 시점에 이벤트를 보낸다. 외부에서 직접 값을 넣고, 동적인 스트림 생성(양방향) BehaviorSubject - 상태 초기값 필수 구독 시, 가장 최신값 1개를 즉시 전달받음 이후에는 일반 Observable처럼 .onNext 이벤트를 수신 - PublishSubjcet - 단방향 이벤트 구독 이후 이벤트만 받음(초기값 없음) 주로 이벤트 전달용 Relay Subject의 변형으로, error가 없고 UI바인딩에 최적화 PublishRelay 단방향 이벤트 전달(버튼 클릭) BehaviorRelay 상태 저장, 초기값 필수 -&gt; accept() 사용 Driver 메인스레드, share(1) UI 바인딩 전용으로 사용되는 옵저버블 구독 subscribe(onNext:) next, error, completed 시퀀스 이벤트를 받을 수 있다 직점 onError 처리 가능하다 viewModel 내부, 로직 처리, 이벤트 감지, 에러 대응 Disposable 반환해야한다 모든 Observable계열 구독 가능 bind(onNext:) 보다 범용적, 완료/에러 받을 수 있다 bind(to:) UI 컴포넌트 프로퍼티에 바인딩할 때 사용 구독과 동시에 값이 특정 속성에 직접 들어가는 방식 값을 특정UI의 속성에 직접 구독해서 바인딩 // label.text = title처럼 자동으로 연결하는 직접 바인딩 방식 viewModel.title .bind(to: label.rx.text) .disposed(by: disposeBag) bind(onNext:) 단순히 이벤트를 수신하고 구독 형태 내부에 명시적으로 처리 로직을 작성해야 함 값을 받아서 직접 처리(프린트, 로직 실행)하는 방식으로 구독 viewModel.title .bind(onNext: { text in print("값 출력: \(text)") }) .disposed(by: disposeBag) 비교 ```swift // 1. 자동 UI 업데이트 (bind to UI) viewModel.username // Observable .bind(to: label.rx.text) // 📲 label.text = 값 .disposed(by: disposeBag) // 2. 내가 직접 프린트 (bind with closure) viewModel.username .bind(onNext: { name in print(“유저 이름은 (name)”) }) .disposed(by: disposeBag) ```]]></summary></entry><entry><title type="html">[AutoLayout]-오토레이아웃-1</title><link href="http://localhost:4000/AutoLayout-AutoLayout-1/" rel="alternate" type="text/html" title="[AutoLayout]-오토레이아웃-1" /><published>2025-03-25T00:00:00+00:00</published><updated>2025-03-25T00:00:00+00:00</updated><id>http://localhost:4000/%5BAutoLayout%5D-AutoLayout-1</id><content type="html" xml:base="http://localhost:4000/AutoLayout-AutoLayout-1/"><![CDATA[<h2 id="1-오토레이아웃이란">1. 오토레이아웃이란?</h2>

<ul>
  <li>오토레이아웃이란 뷰 계층구조에 있는 모든 뷰의 <strong>크기</strong>와 <strong>위치</strong>를 제약조건(<strong>constraints</strong>)에 따라 <strong>동적</strong>으로 계산한다.</li>
  <li>즉 자동으로 레이아웃을 그린다는 의미이다.</li>
</ul>

<h2 id="2-constraints란">2. Constraints란?</h2>

<ul>
  <li>제약조건(<strong>Constraints</strong>)란 뷰의 위치와 크기를 다른 객체로부터 상대적으로 나타내는 방법이다.</li>
  <li>오토 레이아웃은 제약조건(<strong>Constraints</strong>)을 이용해서 크기와 위치를  정한다.</li>
  <li>view의 frame을 직접 지정해주는 것이 아니라 다른 객체(<strong>SafeArea</strong>)를 이용해 상대적으로 제약을 주는 것이다</li>
</ul>

<h2 id="3-예시">3. 예시</h2>

<h3 id="기준-객체safe-area로부터-왼쪽으로-30-오른쪽으로-30-위로-100만큼의-margin이-있고-heigh가-200이라는-제약조건이-있는-uiview를-그려보자">기준 객체(Safe Area)로부터 왼쪽으로 30, 오른쪽으로 30, 위로 100만큼의 margin이 있고 heigh가 200이라는 제약조건이 있는 UIView를 그려보자.</h3>

<ul>
  <li>UIView의 width를 정해주지 않았지만 Leading / Trailing Constraints에 의해 서로 당기는 성질이 있어서 해상도 별로 width가 자동으로 저장된다.</li>
  <li>만약 가로의 크기가 100인 해상도일 경우 UIView는 100 - 30 - 30 = 40만큼의 width를 가질 것이다.</li>
  <li>오토 레이아웃은 크기와 위치가 제일 중요하다.</li>
  <li>여기서 크기는 height: 200, width: SafeArea에서 좌우 margin(30)을 뺀 나머지 값(해상도별로 동적으로 변함)</li>
  <li>여기서 위치는 Leading: 30, Trailing: 30, Top: 50</li>
</ul>

<p><img src="/assets/img/2025-03-25-[AutoLayout]-AutoLayout-1/image-20250325141039466.png" alt="image-20250325141039466" style="width:20%;" /></p>

<!-- <table style="border-collapse: collapse;">
  <tr>
    <td style="padding: 0;">
      <img src="/assets/img/2025-03-25-[AutoLayout]-AutoLayout-1/image-20250325141039466.png" alt="image-20250325141039466" style="width:20%;">
    </td>
    <td style="padding: 0;">
      <img src="/assets/img/2025-03-25-[AutoLayout]-AutoLayout-1/image-20250325141039466.png" alt="image-20250325141039466" style="width:20%;">
    </td>
  </tr>
</table> -->]]></content><author><name>Dong Hyeon</name></author><category term="AutoLayout" /><summary type="html"><![CDATA[1. 오토레이아웃이란? 오토레이아웃이란 뷰 계층구조에 있는 모든 뷰의 크기와 위치를 제약조건(constraints)에 따라 동적으로 계산한다. 즉 자동으로 레이아웃을 그린다는 의미이다. 2. Constraints란? 제약조건(Constraints)란 뷰의 위치와 크기를 다른 객체로부터 상대적으로 나타내는 방법이다. 오토 레이아웃은 제약조건(Constraints)을 이용해서 크기와 위치를 정한다. view의 frame을 직접 지정해주는 것이 아니라 다른 객체(SafeArea)를 이용해 상대적으로 제약을 주는 것이다 3. 예시 기준 객체(Safe Area)로부터 왼쪽으로 30, 오른쪽으로 30, 위로 100만큼의 margin이 있고 heigh가 200이라는 제약조건이 있는 UIView를 그려보자. UIView의 width를 정해주지 않았지만 Leading / Trailing Constraints에 의해 서로 당기는 성질이 있어서 해상도 별로 width가 자동으로 저장된다. 만약 가로의 크기가 100인 해상도일 경우 UIView는 100 - 30 - 30 = 40만큼의 width를 가질 것이다. 오토 레이아웃은 크기와 위치가 제일 중요하다. 여기서 크기는 height: 200, width: SafeArea에서 좌우 margin(30)을 뺀 나머지 값(해상도별로 동적으로 변함) 여기서 위치는 Leading: 30, Trailing: 30, Top: 50]]></summary></entry><entry><title type="html">[RxSwift]-1. RxSwift란?</title><link href="http://localhost:4000/RxSwift-RxSwift-1/" rel="alternate" type="text/html" title="[RxSwift]-1. RxSwift란?" /><published>2025-03-25T00:00:00+00:00</published><updated>2025-03-25T00:00:00+00:00</updated><id>http://localhost:4000/%5BRxSwift%5D-RxSwift-1</id><content type="html" xml:base="http://localhost:4000/RxSwift-RxSwift-1/"><![CDATA[<p><img src="/assets/img/2025-03-25-[RxSwift]-RxSwift-1/image.png" alt="clean1" style="width: 70%;" /></p>

<h2 id="1-반응형-프로그래밍이란">1. 반응형 프로그래밍이란?</h2>
<p>데이터의 흐름 및 변경사항을 전파하는 데 중점을 둔 프로그래밍 패러다임이다.   <br />
이 패러다임을 사용할 경우, 주변 환경/데이터 변화가 생길 때 연결된 실행 모델들이 이 이벤트를 받아 동작하도록 설계하는 방식이다.</p>

<ul>
  <li><strong>선(→)</strong> : 데이터가 흐르는 경로이며, <strong>Observable</strong>이라고 부른다.</li>
  <li><strong>점(●)</strong> : 시간에 따라 발생하는 <strong>이벤트(Event)</strong> 하나를 의미한다.</li>
  <li><strong>debounce 박스</strong> : 이벤트를 필터링하는 <strong>Operator(연산자)</strong>로, 너무 잦은 이벤트를 제어한다.</li>
  <li><strong>아래쪽 선</strong> : <code class="language-plaintext highlighter-rouge">debounce</code> 이후 실제로 <strong>구독자에게 전달되는 결과 흐름</strong>을 보여준다.</li>
</ul>

<h3 id="비유로-설명">비유로 설명</h3>
<p>자동차(Event)들이 도로(Ovservable)를 따라 달리고 있을 때,<br />
교통경찰 역할을 하는 debounce가 너무 많은 차를 제어해준다.  <br />
지나치게 빠르게 지나가는 차들은 걸러내고, 일정 시간 동안 마지막으로 지나간 차(이벤트)만 통과시킨다.  <br />
즉 이벤트가 여러 번 발생하더라도 debounce를 통과한 이벤트만 최종적으로 전달한다.</p>

<h2 id="2-rxswift란">2. RxSwift란?</h2>
<p>Reactive Extension/Programming + Swift로, 관찰 가능한 시퀀스를 사용하여 비동기 및 이벤트 기반 프로그램을 구성하기 위한 라이브러리다.</p>

<p>Swift는 함수형 프로그래밍(Functional Programming) 패러다임을 강조하는 언어이다.   <br />
이에 RxSwift는 반응형 프로그래밍(Reactive Programming)을 더하여, Swift에서 FRP(Functional Reactive Programming)을 따를 수 있도록 한다.  <br />
즉 Swift를 반응형 프로그래밍 하는 것이다.</p>

<h3 id="예시">예시</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">Observable</span>
    <span class="o">.</span><span class="nf">combineLatest</span><span class="p">(</span><span class="n">firstName</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">lastName</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> <span class="p">{</span>  <span class="nv">$0</span> <span class="o">+</span> <span class="s">" "</span> <span class="nv">$1</span> <span class="p">}</span>
    <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="s">"Greetings, </span><span class="se">\(</span><span class="err">#</span><span class="mi">0</span><span class="se">)</span><span class="s">"</span> <span class="p">}</span>
    <span class="o">.</span><span class="nf">bind</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="n">greetingLabel</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="kt">DisposeBag</span><span class="p">)</span>
</code></pre></div></div>
<ul>
  <li>comBineLatest나 map을 RxSwift에서 Operator라고 부른다.</li>
  <li>이러한 연산자를 사용해서 이벤트의 값을 여러 형태로 조합하거나 변경할 수 있다.</li>
  <li>또한 MVVM패턴을 적용할 때 View와 ViewModel을 연결해주는, 데이터 바인딩을 수행해야 한다.  <br />
이때 bind(정확히 말하자면 bind는 RxCocoa이다) 연산자를 사용하여 쉽게 바인딩이 가능하다.   <br />
DisoatchQueue에서 직접 조정해야 했던 작업들을 자동으로 처리해준다.</li>
</ul>

<h2 id="3-rxswift-사용-목적">3. RxSwift 사용 목적</h2>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">doSomethingIncredible</span><span class="p">(</span><span class="nv">forWho</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">IncredibleThing</span>

<span class="c1">// 재시도</span>
<span class="nf">doSomethingIncredible</span><span class="p">(</span><span class="s">"me"</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">retry</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div></div>
<ul>
  <li>API 통신을 하다보면, 성공할 때도 있지만 실패할 떄도 분명 존재한다.</li>
  <li>실패시 단순히 끝나는게 아니라 3번 정도 재시도 할 수 있다면 좋겠지만 재시도 코드는 많이 복잡하고, 재사용하기도 어렵다.</li>
  <li>RxSwift를 사용하면 retry연산자를 사용해 쉽게 재시도 코드를 작성할 수 있다.</li>
</ul>

<h2 id="reference">Reference</h2>
<ul>
  <li>https://velog.io/@gnwjd309/RxSwift-1</li>
  <li>https://reactivex.io/intro.html</li>
  <li>https://github.com/ReactiveX/RxSwift</li>
  <li>https://babbab2.tistory.com/182</li>
  <li>https://ios-development.tistory.com/95</li>
</ul>]]></content><author><name>Dong Hyeon</name></author><category term="RxSwift" /><summary type="html"><![CDATA[1. 반응형 프로그래밍이란? 데이터의 흐름 및 변경사항을 전파하는 데 중점을 둔 프로그래밍 패러다임이다. 이 패러다임을 사용할 경우, 주변 환경/데이터 변화가 생길 때 연결된 실행 모델들이 이 이벤트를 받아 동작하도록 설계하는 방식이다. 선(→) : 데이터가 흐르는 경로이며, Observable이라고 부른다. 점(●) : 시간에 따라 발생하는 이벤트(Event) 하나를 의미한다. debounce 박스 : 이벤트를 필터링하는 Operator(연산자)로, 너무 잦은 이벤트를 제어한다. 아래쪽 선 : debounce 이후 실제로 구독자에게 전달되는 결과 흐름을 보여준다. 비유로 설명 자동차(Event)들이 도로(Ovservable)를 따라 달리고 있을 때, 교통경찰 역할을 하는 debounce가 너무 많은 차를 제어해준다. 지나치게 빠르게 지나가는 차들은 걸러내고, 일정 시간 동안 마지막으로 지나간 차(이벤트)만 통과시킨다. 즉 이벤트가 여러 번 발생하더라도 debounce를 통과한 이벤트만 최종적으로 전달한다. 2. RxSwift란? Reactive Extension/Programming + Swift로, 관찰 가능한 시퀀스를 사용하여 비동기 및 이벤트 기반 프로그램을 구성하기 위한 라이브러리다. Swift는 함수형 프로그래밍(Functional Programming) 패러다임을 강조하는 언어이다. 이에 RxSwift는 반응형 프로그래밍(Reactive Programming)을 더하여, Swift에서 FRP(Functional Reactive Programming)을 따를 수 있도록 한다. 즉 Swift를 반응형 프로그래밍 하는 것이다. 예시 Observable .combineLatest(firstName.rx.text, lastName.rx.text) { $0 + " " $1 } .map { "Greetings, \(#0)" } .bind(to: greetingLabel.rx.text) .disposed(by: DisposeBag) comBineLatest나 map을 RxSwift에서 Operator라고 부른다. 이러한 연산자를 사용해서 이벤트의 값을 여러 형태로 조합하거나 변경할 수 있다. 또한 MVVM패턴을 적용할 때 View와 ViewModel을 연결해주는, 데이터 바인딩을 수행해야 한다. 이때 bind(정확히 말하자면 bind는 RxCocoa이다) 연산자를 사용하여 쉽게 바인딩이 가능하다. DisoatchQueue에서 직접 조정해야 했던 작업들을 자동으로 처리해준다. 3. RxSwift 사용 목적 func doSomethingIncredible(forWho: String) throws -&gt; IncredibleThing // 재시도 doSomethingIncredible("me") .retry(3) API 통신을 하다보면, 성공할 때도 있지만 실패할 떄도 분명 존재한다. 실패시 단순히 끝나는게 아니라 3번 정도 재시도 할 수 있다면 좋겠지만 재시도 코드는 많이 복잡하고, 재사용하기도 어렵다. RxSwift를 사용하면 retry연산자를 사용해 쉽게 재시도 코드를 작성할 수 있다. Reference https://velog.io/@gnwjd309/RxSwift-1 https://reactivex.io/intro.html https://github.com/ReactiveX/RxSwift https://babbab2.tistory.com/182 https://ios-development.tistory.com/95]]></summary></entry><entry><title type="html">[하루한컷] 1. iOS 카카오 로그인</title><link href="http://localhost:4000/Haruhancut-Haruhancut-1/" rel="alternate" type="text/html" title="[하루한컷] 1. iOS 카카오 로그인" /><published>2025-03-25T00:00:00+00:00</published><updated>2025-03-25T00:00:00+00:00</updated><id>http://localhost:4000/%5BHaruhancut%5D-Haruhancut-1</id><content type="html" xml:base="http://localhost:4000/Haruhancut-Haruhancut-1/"><![CDATA[<h2 id="1-카카오-로그인">1. 카카오 로그인</h2>
<ul>
  <li>https://developers.kakao.com/console/app 링크 접속</li>
  <li>애플리케이션 추가</li>
  <li>플랫폼 iOS 등록</li>
  <li>네이티브 앱키를 Config.config파일에 저장</li>
</ul>

<h2 id="2-파이어베이스-프로젝트-생성">2. 파이어베이스 프로젝트 생성</h2>
<ul>
  <li>Authentication 생성</li>
  <li>Authentication에서 로그인 방법에서 카카오 로그인을 위해 OIDC 추가(이때 업그레이드 해줘야함)</li>
</ul>

<p><img src="/assets/img/2025-03-25-[Haruhancut]-Haruhancut-1/1.png" alt="clean1" style="width: 80%;" /></p>

<p><img src="/assets/img/2025-03-25-[Haruhancut]-Haruhancut-1/2.png" alt="clean1" style="width: 80%;" /></p>
<ul>
  <li>프로젝트 설정에서 Google-Info.plist다운</li>
</ul>

<h2 id="3-코드-설정">3. 코드 설정</h2>
<h3 id="appdelegateswift">AppDelegate.swift</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">UIKit</span>

<span class="c1">// 파이어베이스</span>
<span class="kd">import</span> <span class="kt">FirebaseCore</span>
<span class="kd">import</span> <span class="kt">FirebaseAuth</span>

<span class="c1">// 카카오톡</span>
<span class="kd">import</span> <span class="kt">RxKakaoSDKCommon</span>
<span class="kd">import</span> <span class="kt">RxKakaoSDKAuth</span>
<span class="kd">import</span> <span class="kt">KakaoSDKAuth</span>

<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="nv">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIApplication</span><span class="o">.</span><span class="kt">LaunchOptionsKey</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="c1">// Override point for customization after application launch.</span>
    
    <span class="c1">// 파이어베이스 설정</span>
    <span class="kt">FirebaseApp</span><span class="o">.</span><span class="nf">configure</span><span class="p">()</span>
    
    <span class="c1">// 카카오톡 설정</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">nativeAppKey</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="kt">Bundle</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">infoDictionary</span><span class="p">?[</span><span class="s">"KAKAO_NATIVE_APP_KEY"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="kt">RxKakaoSDK</span><span class="o">.</span><span class="nf">initSDK</span><span class="p">(</span><span class="nv">appKey</span><span class="p">:</span> <span class="n">nativeAppKey</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">app</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="kd">open</span> <span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">,</span> <span class="nv">options</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIApplication</span><span class="o">.</span><span class="kt">OpenURLOptionsKey</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:])</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="c1">// 카카오톡 로그인</span>
    <span class="k">if</span> <span class="p">(</span><span class="kt">AuthApi</span><span class="o">.</span><span class="nf">isKakaoTalkLoginUrl</span><span class="p">(</span><span class="n">url</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">AuthController</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">handleOpenUrl</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="kc">false</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="sceendelegateswift">SceenDelegate.swift</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">scene</span><span class="p">(</span><span class="n">_</span> <span class="nv">scene</span><span class="p">:</span> <span class="kt">UIScene</span><span class="p">,</span> <span class="n">openURLContexts</span> <span class="kt">URLContexts</span><span class="p">:</span> <span class="kt">Set</span><span class="o">&lt;</span><span class="kt">UIOpenURLContext</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 카카오 로그인</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URLContexts</span><span class="o">.</span><span class="n">first</span><span class="p">?</span><span class="o">.</span><span class="n">url</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="kt">AuthApi</span><span class="o">.</span><span class="nf">isKakaoTalkLoginUrl</span><span class="p">(</span><span class="n">url</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">_</span> <span class="o">=</span> <span class="kt">AuthController</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">handleOpenUrl</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="mvcswift">MVC.swift</h3>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RxSwift</span>

<span class="kd">import</span> <span class="kt">RxKakaoSDKAuth</span>
<span class="kd">import</span> <span class="kt">KakaoSDKAuth</span>

<span class="kd">import</span> <span class="kt">RxKakaoSDKUser</span>
<span class="kd">import</span> <span class="kt">KakaoSDKUser</span>


<span class="kd">final</span> <span class="kd">class</span> <span class="kt">LoginViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    
    <span class="k">let</span> <span class="nv">disposeBag</span> <span class="o">=</span> <span class="kt">DisposeBag</span><span class="p">()</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">kakaoLoginButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">button</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="o">.</span><span class="kt">Configuration</span><span class="o">.</span><span class="nf">filled</span><span class="p">()</span>
        <span class="n">config</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"Logo Kakao"</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePlacement</span> <span class="o">=</span> <span class="o">.</span><span class="n">leading</span>    <span class="c1">// 이미지가 텍스트 왼쪽에 위치</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePadding</span> <span class="o">=</span> <span class="mi">20</span>            <span class="c1">// 이미지와 텍스트 사이 간격</span>
        <span class="n">config</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"카카오로 계속하기"</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseForegroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">black</span>
        <span class="c1">// 폰트 설정</span>
        <span class="n">config</span><span class="o">.</span><span class="n">titleTextAttributesTransformer</span> <span class="o">=</span> <span class="kt">UIConfigurationTextAttributesTransformer</span> <span class="p">{</span> <span class="n">incoming</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">outgoing</span> <span class="o">=</span> <span class="n">incoming</span>
            <span class="n">outgoing</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="kt">UIFont</span><span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">medium</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">outgoing</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="n">button</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">button</span><span class="o">.</span><span class="n">clipsToBounds</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="c1">// 상태에 따라 배경색 바꾸기</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configurationUpdateHandler</span> <span class="o">=</span> <span class="p">{</span> <span class="n">button</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="n">button</span><span class="o">.</span><span class="n">configuration</span>
            <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">isHighlighted</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.72</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 눌렸을 때 진한 노랑</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 기본 노랑</span>
            <span class="p">}</span>
            <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">handleKakaoLogin</span><span class="p">),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">button</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">appleLoginButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">button</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="o">.</span><span class="kt">Configuration</span><span class="o">.</span><span class="nf">filled</span><span class="p">()</span>
        <span class="n">config</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"Logo Apple"</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePlacement</span> <span class="o">=</span> <span class="o">.</span><span class="n">leading</span>    <span class="c1">// 이미지가 텍스트 왼쪽에 위치</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePadding</span> <span class="o">=</span> <span class="mi">20</span>            <span class="c1">// 이미지와 텍스트 사이 간격</span>
        <span class="n">config</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"Apple로 계속하기"</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseForegroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">black</span>
        <span class="c1">// 폰트 설정</span>
        <span class="n">config</span><span class="o">.</span><span class="n">titleTextAttributesTransformer</span> <span class="o">=</span> <span class="kt">UIConfigurationTextAttributesTransformer</span> <span class="p">{</span> <span class="n">incoming</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">outgoing</span> <span class="o">=</span> <span class="n">incoming</span>
            <span class="n">outgoing</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="kt">UIFont</span><span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">medium</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">outgoing</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="n">button</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">button</span><span class="o">.</span><span class="n">clipsToBounds</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="c1">// 상태에 따라 배경색 바꾸기</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configurationUpdateHandler</span> <span class="o">=</span> <span class="p">{</span> <span class="n">button</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="n">button</span><span class="o">.</span><span class="n">configuration</span>
            <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">isHighlighted</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">white</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 눌렀을 때 약간 회색</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span> <span class="c1">// 원래 흰색</span>
            <span class="p">}</span>
            <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">handleAppleLogin</span><span class="p">),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">button</span>
    <span class="p">}()</span>
    
    <span class="c1">// 카카오로그인버튼, 애플로그이넙튼 -&gt; 스택뷰에 추가</span>
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">stackView</span><span class="p">:</span> <span class="kt">UIStackView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">st</span> <span class="o">=</span> <span class="kt">UIStackView</span><span class="p">(</span><span class="nv">arrangedSubviews</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">kakaoLoginButton</span><span class="p">,</span>
            <span class="n">appleLoginButton</span>
        <span class="p">])</span>
        <span class="n">st</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">st</span><span class="o">.</span><span class="n">axis</span> <span class="o">=</span> <span class="o">.</span><span class="n">vertical</span>
        <span class="n">st</span><span class="o">.</span><span class="n">distribution</span> <span class="o">=</span> <span class="o">.</span><span class="n">fillEqually</span>
        <span class="n">st</span><span class="o">.</span><span class="n">alignment</span> <span class="o">=</span> <span class="o">.</span><span class="n">fill</span>
        <span class="k">return</span> <span class="n">st</span>
    <span class="p">}()</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        <span class="nf">makeUI</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">makeUI</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 배경 색상</span>
        <span class="n">view</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="k">#colorLiteral</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">0.09411741048</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.09411782771</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.102702044</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
        
        <span class="c1">// 스택뷰 -&gt; 뷰에 추가</span>
        <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">stackView</span><span class="p">)</span>
        <span class="n">stackView</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        
        <span class="c1">// 오토레이아웃 제약 추가</span>
        <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="o">-</span><span class="mi">50</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="mi">20</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">130</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="p">}</span>
    
    <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">handleKakaoLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"✅ 카카오 로그인 버튼 눌림"</span><span class="p">)</span>
        <span class="nf">startKakaoLogin</span><span class="p">()</span>

    <span class="p">}</span>
    
    <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">handleAppleLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"✅ Apple 로그인 버튼 눌림"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// MARK: - Observable</span>
<span class="kd">extension</span> <span class="kt">LoginViewController</span> <span class="p">{</span>
    
    <span class="kd">func</span> <span class="nf">startKakaoLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span>
            <span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="n">token</span> <span class="k">in</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"✅ 받은 토큰: </span><span class="se">\(</span><span class="n">token</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">},</span> <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"❌ 로그인 에러: </span><span class="se">\(</span><span class="n">error</span><span class="o">.</span><span class="n">localizedDescription</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">})</span>
            <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="kt">UserApi</span><span class="o">.</span><span class="nf">isKakaoTalkLoginAvailable</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoTalk</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (앱 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoAccount</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (웹 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">#Preview {</span>
    <span class="kt">LoginViewController</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="viewcontroller--viewmodel">VIewController + ViewModel</h3>
<h3 id="viewcontroller">ViewController</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RxSwift</span>

<span class="kd">import</span> <span class="kt">RxKakaoSDKAuth</span>
<span class="kd">import</span> <span class="kt">KakaoSDKAuth</span>

<span class="kd">import</span> <span class="kt">RxKakaoSDKUser</span>
<span class="kd">import</span> <span class="kt">KakaoSDKUser</span>


<span class="kd">final</span> <span class="kd">class</span> <span class="kt">LoginViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    
    <span class="k">let</span> <span class="nv">disposeBag</span> <span class="o">=</span> <span class="kt">DisposeBag</span><span class="p">()</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">viewModel</span> <span class="o">=</span> <span class="kt">LoginViewModel</span><span class="p">()</span>
    

    

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">bindViewModel</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">viewModel</span><span class="o">.</span><span class="n">loginSuccess</span>
            <span class="o">.</span><span class="nf">observe</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="kt">MainScheduler</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span>
            <span class="o">.</span><span class="n">subscribe</span> <span class="p">{</span> <span class="n">token</span> <span class="k">in</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"로그인 성공: </span><span class="se">\(</span><span class="n">token</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
        
        <span class="n">viewModel</span><span class="o">.</span><span class="n">loginFailure</span>
            <span class="o">.</span><span class="nf">observe</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="kt">MainScheduler</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span>
            <span class="o">.</span><span class="n">subscribe</span> <span class="p">{</span> <span class="n">errorMessage</span> <span class="k">in</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"로그인 실패: </span><span class="se">\(</span><span class="n">errorMessage</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
    <span class="p">}</span>

    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">kakaoLoginButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">button</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="o">.</span><span class="kt">Configuration</span><span class="o">.</span><span class="nf">filled</span><span class="p">()</span>
        <span class="n">config</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"Logo Kakao"</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePlacement</span> <span class="o">=</span> <span class="o">.</span><span class="n">leading</span>    <span class="c1">// 이미지가 텍스트 왼쪽에 위치</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePadding</span> <span class="o">=</span> <span class="mi">20</span>            <span class="c1">// 이미지와 텍스트 사이 간격</span>
        <span class="n">config</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"카카오로 계속하기"</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseForegroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">black</span>
        <span class="c1">// 폰트 설정</span>
        <span class="n">config</span><span class="o">.</span><span class="n">titleTextAttributesTransformer</span> <span class="o">=</span> <span class="kt">UIConfigurationTextAttributesTransformer</span> <span class="p">{</span> <span class="n">incoming</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">outgoing</span> <span class="o">=</span> <span class="n">incoming</span>
            <span class="n">outgoing</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="kt">UIFont</span><span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">medium</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">outgoing</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="n">button</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">button</span><span class="o">.</span><span class="n">clipsToBounds</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="c1">// 상태에 따라 배경색 바꾸기</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configurationUpdateHandler</span> <span class="o">=</span> <span class="p">{</span> <span class="n">button</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="n">button</span><span class="o">.</span><span class="n">configuration</span>
            <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">isHighlighted</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.72</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 눌렸을 때 진한 노랑</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 기본 노랑</span>
            <span class="p">}</span>
            <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">handleKakaoLogin</span><span class="p">),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">button</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">appleLoginButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">button</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="o">.</span><span class="kt">Configuration</span><span class="o">.</span><span class="nf">filled</span><span class="p">()</span>
        <span class="n">config</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"Logo Apple"</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePlacement</span> <span class="o">=</span> <span class="o">.</span><span class="n">leading</span>    <span class="c1">// 이미지가 텍스트 왼쪽에 위치</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePadding</span> <span class="o">=</span> <span class="mi">20</span>            <span class="c1">// 이미지와 텍스트 사이 간격</span>
        <span class="n">config</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"Apple로 계속하기"</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseForegroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">black</span>
        <span class="c1">// 폰트 설정</span>
        <span class="n">config</span><span class="o">.</span><span class="n">titleTextAttributesTransformer</span> <span class="o">=</span> <span class="kt">UIConfigurationTextAttributesTransformer</span> <span class="p">{</span> <span class="n">incoming</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">outgoing</span> <span class="o">=</span> <span class="n">incoming</span>
            <span class="n">outgoing</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="kt">UIFont</span><span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">medium</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">outgoing</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="n">button</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">button</span><span class="o">.</span><span class="n">clipsToBounds</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="c1">// 상태에 따라 배경색 바꾸기</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configurationUpdateHandler</span> <span class="o">=</span> <span class="p">{</span> <span class="n">button</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="n">button</span><span class="o">.</span><span class="n">configuration</span>
            <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">isHighlighted</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">white</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 눌렀을 때 약간 회색</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span> <span class="c1">// 원래 흰색</span>
            <span class="p">}</span>
            <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">handleAppleLogin</span><span class="p">),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">button</span>
    <span class="p">}()</span>
    
    <span class="c1">// 카카오로그인버튼, 애플로그이넙튼 -&gt; 스택뷰에 추가</span>
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">stackView</span><span class="p">:</span> <span class="kt">UIStackView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">st</span> <span class="o">=</span> <span class="kt">UIStackView</span><span class="p">(</span><span class="nv">arrangedSubviews</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">kakaoLoginButton</span><span class="p">,</span>
            <span class="n">appleLoginButton</span>
        <span class="p">])</span>
        <span class="n">st</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">st</span><span class="o">.</span><span class="n">axis</span> <span class="o">=</span> <span class="o">.</span><span class="n">vertical</span>
        <span class="n">st</span><span class="o">.</span><span class="n">distribution</span> <span class="o">=</span> <span class="o">.</span><span class="n">fillEqually</span>
        <span class="n">st</span><span class="o">.</span><span class="n">alignment</span> <span class="o">=</span> <span class="o">.</span><span class="n">fill</span>
        <span class="k">return</span> <span class="n">st</span>
    <span class="p">}()</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        <span class="nf">makeUI</span><span class="p">()</span>
        <span class="nf">bindViewModel</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">makeUI</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 배경 색상</span>
        <span class="n">view</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="k">#colorLiteral</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">0.09411741048</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.09411782771</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.102702044</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
        
        <span class="c1">// 스택뷰 -&gt; 뷰에 추가</span>
        <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">stackView</span><span class="p">)</span>
        <span class="n">stackView</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        
        <span class="c1">// 오토레이아웃 제약 추가</span>
        <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="o">-</span><span class="mi">50</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="mi">20</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">130</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="p">}</span>
    
    <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">handleKakaoLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"✅ 카카오 로그인 버튼 눌림"</span><span class="p">)</span>
        <span class="n">viewModel</span><span class="o">.</span><span class="nf">loginWithKakao</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">handleAppleLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"✅ Apple 로그인 버튼 눌림"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// MARK: - Observable</span>
<span class="kd">extension</span> <span class="kt">LoginViewController</span> <span class="p">{</span>
    
    <span class="kd">func</span> <span class="nf">startKakaoLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span>
            <span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="n">token</span> <span class="k">in</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"✅ 받은 토큰: </span><span class="se">\(</span><span class="n">token</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">},</span> <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"❌ 로그인 에러: </span><span class="se">\(</span><span class="n">error</span><span class="o">.</span><span class="n">localizedDescription</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">})</span>
            <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="kt">UserApi</span><span class="o">.</span><span class="nf">isKakaoTalkLoginAvailable</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoTalk</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (앱 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoAccount</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (웹 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">#Preview {</span>
    <span class="kt">LoginViewController</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="viewmodel">ViewModel</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Foundation</span>
<span class="kd">import</span> <span class="kt">RxSwift</span>
<span class="kd">import</span> <span class="kt">RxCocoa</span>
<span class="kd">import</span> <span class="kt">KakaoSDKUser</span>
<span class="kd">import</span> <span class="kt">RxKakaoSDKUser</span>
<span class="kd">import</span> <span class="kt">RxKakaoSDKAuth</span>
<span class="kd">import</span> <span class="kt">KakaoSDKAuth</span>

<span class="kd">final</span> <span class="kd">class</span> <span class="kt">LoginViewModel</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">disposeBag</span> <span class="o">=</span> <span class="kt">DisposeBag</span><span class="p">()</span>
    
     <span class="c1">// View에서 구독할 수 있도록 공개용 Subject</span>
     <span class="k">let</span> <span class="nv">loginSuccess</span> <span class="o">=</span> <span class="kt">PublishSubject</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">()</span>
     <span class="k">let</span> <span class="nv">loginFailure</span> <span class="o">=</span> <span class="kt">PublishSubject</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">()</span>
    
    <span class="kd">func</span> <span class="nf">loginWithKakao</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span>
            <span class="o">.</span><span class="n">subscribe</span> <span class="p">{</span> <span class="n">token</span> <span class="k">in</span>
                <span class="k">self</span><span class="o">.</span><span class="n">loginSuccess</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
            <span class="p">}</span> <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
                <span class="k">self</span><span class="o">.</span><span class="n">loginFailure</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">localizedDescription</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="kt">UserApi</span><span class="o">.</span><span class="nf">isKakaoTalkLoginAvailable</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoTalk</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (앱 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoAccount</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (웹 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="viewcontroller--viewmodel--results">VIewController + ViewModel + Results</h3>
<h3 id="viewcontroller-1">ViewController</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RxSwift</span>

<span class="kd">import</span> <span class="kt">RxKakaoSDKAuth</span>
<span class="kd">import</span> <span class="kt">KakaoSDKAuth</span>

<span class="kd">import</span> <span class="kt">RxKakaoSDKUser</span>
<span class="kd">import</span> <span class="kt">KakaoSDKUser</span>


<span class="kd">final</span> <span class="kd">class</span> <span class="kt">LoginViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    
    <span class="k">let</span> <span class="nv">disposeBag</span> <span class="o">=</span> <span class="kt">DisposeBag</span><span class="p">()</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">viewModel</span> <span class="o">=</span> <span class="kt">LoginViewModel</span><span class="p">()</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">bindViewModel</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">viewModel</span><span class="o">.</span><span class="n">loginResult</span>
            <span class="o">.</span><span class="nf">observe</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="kt">MainScheduler</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span>
            <span class="o">.</span><span class="n">subscribe</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
                <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
                <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">token</span><span class="p">):</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"로그인 성공: </span><span class="se">\(</span><span class="n">token</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
                <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"로그인 실패: </span><span class="se">\(</span><span class="n">error</span><span class="o">.</span><span class="n">localizedDescription</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">kakaoLoginButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">button</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="o">.</span><span class="kt">Configuration</span><span class="o">.</span><span class="nf">filled</span><span class="p">()</span>
        <span class="n">config</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"Logo Kakao"</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePlacement</span> <span class="o">=</span> <span class="o">.</span><span class="n">leading</span>    <span class="c1">// 이미지가 텍스트 왼쪽에 위치</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePadding</span> <span class="o">=</span> <span class="mi">20</span>            <span class="c1">// 이미지와 텍스트 사이 간격</span>
        <span class="n">config</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"카카오로 계속하기"</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseForegroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">black</span>
        <span class="c1">// 폰트 설정</span>
        <span class="n">config</span><span class="o">.</span><span class="n">titleTextAttributesTransformer</span> <span class="o">=</span> <span class="kt">UIConfigurationTextAttributesTransformer</span> <span class="p">{</span> <span class="n">incoming</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">outgoing</span> <span class="o">=</span> <span class="n">incoming</span>
            <span class="n">outgoing</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="kt">UIFont</span><span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">medium</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">outgoing</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="n">button</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">button</span><span class="o">.</span><span class="n">clipsToBounds</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="c1">// 상태에 따라 배경색 바꾸기</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configurationUpdateHandler</span> <span class="o">=</span> <span class="p">{</span> <span class="n">button</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="n">button</span><span class="o">.</span><span class="n">configuration</span>
            <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">isHighlighted</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.72</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 눌렸을 때 진한 노랑</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 기본 노랑</span>
            <span class="p">}</span>
            <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">handleKakaoLogin</span><span class="p">),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">button</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">appleLoginButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">button</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="o">.</span><span class="kt">Configuration</span><span class="o">.</span><span class="nf">filled</span><span class="p">()</span>
        <span class="n">config</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"Logo Apple"</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePlacement</span> <span class="o">=</span> <span class="o">.</span><span class="n">leading</span>    <span class="c1">// 이미지가 텍스트 왼쪽에 위치</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePadding</span> <span class="o">=</span> <span class="mi">20</span>            <span class="c1">// 이미지와 텍스트 사이 간격</span>
        <span class="n">config</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"Apple로 계속하기"</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseForegroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">black</span>
        <span class="c1">// 폰트 설정</span>
        <span class="n">config</span><span class="o">.</span><span class="n">titleTextAttributesTransformer</span> <span class="o">=</span> <span class="kt">UIConfigurationTextAttributesTransformer</span> <span class="p">{</span> <span class="n">incoming</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">outgoing</span> <span class="o">=</span> <span class="n">incoming</span>
            <span class="n">outgoing</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="kt">UIFont</span><span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">medium</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">outgoing</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="n">button</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">button</span><span class="o">.</span><span class="n">clipsToBounds</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="c1">// 상태에 따라 배경색 바꾸기</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configurationUpdateHandler</span> <span class="o">=</span> <span class="p">{</span> <span class="n">button</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="n">button</span><span class="o">.</span><span class="n">configuration</span>
            <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">isHighlighted</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">white</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 눌렀을 때 약간 회색</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span> <span class="c1">// 원래 흰색</span>
            <span class="p">}</span>
            <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">handleAppleLogin</span><span class="p">),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">button</span>
    <span class="p">}()</span>
    
    <span class="c1">// 카카오로그인버튼, 애플로그이넙튼 -&gt; 스택뷰에 추가</span>
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">stackView</span><span class="p">:</span> <span class="kt">UIStackView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">st</span> <span class="o">=</span> <span class="kt">UIStackView</span><span class="p">(</span><span class="nv">arrangedSubviews</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">kakaoLoginButton</span><span class="p">,</span>
            <span class="n">appleLoginButton</span>
        <span class="p">])</span>
        <span class="n">st</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">st</span><span class="o">.</span><span class="n">axis</span> <span class="o">=</span> <span class="o">.</span><span class="n">vertical</span>
        <span class="n">st</span><span class="o">.</span><span class="n">distribution</span> <span class="o">=</span> <span class="o">.</span><span class="n">fillEqually</span>
        <span class="n">st</span><span class="o">.</span><span class="n">alignment</span> <span class="o">=</span> <span class="o">.</span><span class="n">fill</span>
        <span class="k">return</span> <span class="n">st</span>
    <span class="p">}()</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        <span class="nf">makeUI</span><span class="p">()</span>
        <span class="nf">bindViewModel</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">makeUI</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 배경 색상</span>
        <span class="n">view</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="k">#colorLiteral</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">0.09411741048</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.09411782771</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.102702044</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
        
        <span class="c1">// 스택뷰 -&gt; 뷰에 추가</span>
        <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">stackView</span><span class="p">)</span>
        <span class="n">stackView</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        
        <span class="c1">// 오토레이아웃 제약 추가</span>
        <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="o">-</span><span class="mi">50</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="mi">20</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">130</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="p">}</span>
    
    <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">handleKakaoLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"✅ 카카오 로그인 버튼 눌림"</span><span class="p">)</span>
        <span class="n">viewModel</span><span class="o">.</span><span class="nf">loginWithKakao</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">handleAppleLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"✅ Apple 로그인 버튼 눌림"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// MARK: - Observable</span>
<span class="kd">extension</span> <span class="kt">LoginViewController</span> <span class="p">{</span>
    
    <span class="kd">func</span> <span class="nf">startKakaoLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span>
            <span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="n">token</span> <span class="k">in</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"✅ 받은 토큰: </span><span class="se">\(</span><span class="n">token</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">},</span> <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"❌ 로그인 에러: </span><span class="se">\(</span><span class="n">error</span><span class="o">.</span><span class="n">localizedDescription</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">})</span>
            <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="kt">UserApi</span><span class="o">.</span><span class="nf">isKakaoTalkLoginAvailable</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoTalk</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (앱 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoAccount</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (웹 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">#Preview {</span>
    <span class="kt">LoginViewController</span><span class="p">()</span>
<span class="p">}</span>  
</code></pre></div></div>

<h3 id="viewmodel-1">ViewModel</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Foundation</span>
<span class="kd">import</span> <span class="kt">RxSwift</span>
<span class="kd">import</span> <span class="kt">RxCocoa</span>
<span class="kd">import</span> <span class="kt">KakaoSDKUser</span>
<span class="kd">import</span> <span class="kt">RxKakaoSDKUser</span>
<span class="kd">import</span> <span class="kt">RxKakaoSDKAuth</span>
<span class="kd">import</span> <span class="kt">KakaoSDKAuth</span>

<span class="kd">final</span> <span class="kd">class</span> <span class="kt">LoginViewModel</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">disposeBag</span> <span class="o">=</span> <span class="kt">DisposeBag</span><span class="p">()</span>
    
    <span class="k">let</span> <span class="nv">loginResult</span> <span class="o">=</span> <span class="kt">PublishSubject</span><span class="o">&lt;</span><span class="kt">Result</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;&gt;</span><span class="p">()</span>
    
    <span class="kd">func</span> <span class="nf">loginWithKakao</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span>
            <span class="o">.</span><span class="n">subscribe</span> <span class="p">{</span> <span class="n">token</span> <span class="k">in</span>
                <span class="k">self</span><span class="o">.</span><span class="n">loginResult</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
            <span class="p">}</span> <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
                <span class="k">self</span><span class="o">.</span><span class="n">loginResult</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">))</span>
            <span class="p">}</span>
            <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="kt">UserApi</span><span class="o">.</span><span class="nf">isKakaoTalkLoginAvailable</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoTalk</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (앱 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoAccount</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (웹 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="viewcontroller--viewmodel--result--inputoutput">VIewController + ViewModel + Result + Input/Output</h3>
<h3 id="viewcontroller-2">ViewController</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RxSwift</span>

<span class="kd">import</span> <span class="kt">RxKakaoSDKAuth</span>
<span class="kd">import</span> <span class="kt">KakaoSDKAuth</span>

<span class="kd">import</span> <span class="kt">RxKakaoSDKUser</span>
<span class="kd">import</span> <span class="kt">KakaoSDKUser</span>

<span class="kd">final</span> <span class="kd">class</span> <span class="kt">LoginViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    
    <span class="k">let</span> <span class="nv">disposeBag</span> <span class="o">=</span> <span class="kt">DisposeBag</span><span class="p">()</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">viewModel</span> <span class="o">=</span> <span class="kt">LoginViewModel</span><span class="p">()</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">kakaoLoginTapped</span> <span class="o">=</span> <span class="kt">PublishSubject</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span><span class="p">()</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">bindViewModel</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">input</span> <span class="o">=</span> <span class="kt">LoginViewModel</span><span class="o">.</span><span class="kt">Input</span><span class="p">(</span><span class="nv">kakaoLoginTapped</span><span class="p">:</span> <span class="n">kakaoLoginTapped</span><span class="o">.</span><span class="nf">asObservable</span><span class="p">())</span>
        <span class="k">let</span> <span class="nv">output</span> <span class="o">=</span> <span class="n">viewModel</span><span class="o">.</span><span class="nf">transform</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="n">input</span><span class="p">)</span>
        
        <span class="n">output</span><span class="o">.</span><span class="n">loginResult</span>
            <span class="o">.</span><span class="nf">observe</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="kt">MainScheduler</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span>
            <span class="o">.</span><span class="n">subscribe</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
                <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
                <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">token</span><span class="p">):</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"로그인 성공: </span><span class="se">\(</span><span class="n">token</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
                <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"로그인 실패: </span><span class="se">\(</span><span class="n">error</span><span class="o">.</span><span class="n">localizedDescription</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">kakaoLoginButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">button</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="o">.</span><span class="kt">Configuration</span><span class="o">.</span><span class="nf">filled</span><span class="p">()</span>
        <span class="n">config</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"Logo Kakao"</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePlacement</span> <span class="o">=</span> <span class="o">.</span><span class="n">leading</span>    <span class="c1">// 이미지가 텍스트 왼쪽에 위치</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePadding</span> <span class="o">=</span> <span class="mi">20</span>            <span class="c1">// 이미지와 텍스트 사이 간격</span>
        <span class="n">config</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"카카오로 계속하기"</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseForegroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">black</span>
        <span class="c1">// 폰트 설정</span>
        <span class="n">config</span><span class="o">.</span><span class="n">titleTextAttributesTransformer</span> <span class="o">=</span> <span class="kt">UIConfigurationTextAttributesTransformer</span> <span class="p">{</span> <span class="n">incoming</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">outgoing</span> <span class="o">=</span> <span class="n">incoming</span>
            <span class="n">outgoing</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="kt">UIFont</span><span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">medium</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">outgoing</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="n">button</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">button</span><span class="o">.</span><span class="n">clipsToBounds</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="c1">// 상태에 따라 배경색 바꾸기</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configurationUpdateHandler</span> <span class="o">=</span> <span class="p">{</span> <span class="n">button</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="n">button</span><span class="o">.</span><span class="n">configuration</span>
            <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">isHighlighted</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.72</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 눌렸을 때 진한 노랑</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 기본 노랑</span>
            <span class="p">}</span>
            <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">handleKakaoLogin</span><span class="p">),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">button</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">appleLoginButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">button</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="o">.</span><span class="kt">Configuration</span><span class="o">.</span><span class="nf">filled</span><span class="p">()</span>
        <span class="n">config</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"Logo Apple"</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePlacement</span> <span class="o">=</span> <span class="o">.</span><span class="n">leading</span>    <span class="c1">// 이미지가 텍스트 왼쪽에 위치</span>
        <span class="n">config</span><span class="o">.</span><span class="n">imagePadding</span> <span class="o">=</span> <span class="mi">20</span>            <span class="c1">// 이미지와 텍스트 사이 간격</span>
        <span class="n">config</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"Apple로 계속하기"</span>
        <span class="n">config</span><span class="o">.</span><span class="n">baseForegroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">black</span>
        <span class="c1">// 폰트 설정</span>
        <span class="n">config</span><span class="o">.</span><span class="n">titleTextAttributesTransformer</span> <span class="o">=</span> <span class="kt">UIConfigurationTextAttributesTransformer</span> <span class="p">{</span> <span class="n">incoming</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">outgoing</span> <span class="o">=</span> <span class="n">incoming</span>
            <span class="n">outgoing</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="kt">UIFont</span><span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">medium</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">outgoing</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="n">button</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">button</span><span class="o">.</span><span class="n">clipsToBounds</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="c1">// 상태에 따라 배경색 바꾸기</span>
        <span class="n">button</span><span class="o">.</span><span class="n">configurationUpdateHandler</span> <span class="o">=</span> <span class="p">{</span> <span class="n">button</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">config</span> <span class="o">=</span> <span class="n">button</span><span class="o">.</span><span class="n">configuration</span>
            <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">isHighlighted</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">white</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="c1">// 눌렀을 때 약간 회색</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">config</span><span class="p">?</span><span class="o">.</span><span class="n">baseBackgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span> <span class="c1">// 원래 흰색</span>
            <span class="p">}</span>
            <span class="n">button</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>
        <span class="p">}</span>
        <span class="n">button</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">handleAppleLogin</span><span class="p">),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">button</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">stackView</span><span class="p">:</span> <span class="kt">UIStackView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1">// 카카오로그인버튼, 애플로그이넙튼 -&gt; 스택뷰에 추가</span>
        <span class="k">let</span> <span class="nv">st</span> <span class="o">=</span> <span class="kt">UIStackView</span><span class="p">(</span><span class="nv">arrangedSubviews</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">kakaoLoginButton</span><span class="p">,</span>
            <span class="n">appleLoginButton</span>
        <span class="p">])</span>
        <span class="n">st</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">st</span><span class="o">.</span><span class="n">axis</span> <span class="o">=</span> <span class="o">.</span><span class="n">vertical</span>
        <span class="n">st</span><span class="o">.</span><span class="n">distribution</span> <span class="o">=</span> <span class="o">.</span><span class="n">fillEqually</span>
        <span class="n">st</span><span class="o">.</span><span class="n">alignment</span> <span class="o">=</span> <span class="o">.</span><span class="n">fill</span>
        <span class="k">return</span> <span class="n">st</span>
    <span class="p">}()</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        <span class="nf">makeUI</span><span class="p">()</span>
        <span class="nf">bindViewModel</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">makeUI</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 배경 색상</span>
        <span class="n">view</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="k">#colorLiteral</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">0.09411741048</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.09411782771</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.102702044</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
        
        <span class="c1">// 스택뷰 -&gt; 뷰에 추가</span>
        <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">stackView</span><span class="p">)</span>
        <span class="n">stackView</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        
        <span class="c1">// 오토레이아웃 제약 추가</span>
        <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="o">-</span><span class="mi">50</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="mi">20</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">130</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="p">}</span>
    
    <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">handleKakaoLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"✅ 카카오 로그인 버튼 눌림"</span><span class="p">)</span>
        <span class="n">kakaoLoginTapped</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(())</span>
        <span class="c1">//viewModel.loginWithKakao()</span>
    <span class="p">}</span>
    
    <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">handleAppleLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"✅ Apple 로그인 버튼 눌림"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">#Preview {</span>
    <span class="kt">LoginViewController</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="viewmodel-2">ViewModel</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Foundation</span>
<span class="kd">import</span> <span class="kt">RxSwift</span>
<span class="kd">import</span> <span class="kt">RxCocoa</span>
<span class="kd">import</span> <span class="kt">KakaoSDKUser</span>
<span class="kd">import</span> <span class="kt">RxKakaoSDKUser</span>
<span class="kd">import</span> <span class="kt">RxKakaoSDKAuth</span>
<span class="kd">import</span> <span class="kt">KakaoSDKAuth</span>

<span class="kd">final</span> <span class="kd">class</span> <span class="kt">LoginViewModel</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">disposeBag</span> <span class="o">=</span> <span class="kt">DisposeBag</span><span class="p">()</span>
    
    <span class="c1">// let loginResult = PublishSubject&lt;Result&lt;String, Error&gt;&gt;()</span>
    
    <span class="kd">struct</span> <span class="kt">Input</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">kakaoLoginTapped</span><span class="p">:</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span>
    <span class="p">}</span>
    
    <span class="kd">struct</span> <span class="kt">Output</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">loginResult</span><span class="p">:</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">Result</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;&gt;</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">transform</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="kt">Input</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Output</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">result</span> <span class="o">=</span> <span class="kt">PublishSubject</span><span class="o">&lt;</span><span class="kt">Result</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;&gt;</span><span class="p">()</span>
        
        <span class="n">input</span><span class="o">.</span><span class="n">kakaoLoginTapped</span>
            <span class="o">.</span><span class="n">flatMapLatest</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="n">_</span> <span class="o">-&gt;</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">Result</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;&gt;</span> <span class="k">in</span>
                <span class="k">guard</span> <span class="k">let</span> <span class="nv">self</span> <span class="o">=</span> <span class="k">self</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="o">.</span><span class="nf">empty</span><span class="p">()</span> <span class="p">}</span>
                <span class="k">return</span> <span class="k">self</span><span class="o">.</span><span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span>
                    <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">}</span>
                    <span class="o">.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
                            <span class="o">.</span><span class="nf">just</span><span class="p">(</span><span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">))</span>
                    <span class="p">}</span>
            <span class="p">}</span>
            <span class="o">.</span><span class="nf">bind</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="n">result</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="kt">Output</span><span class="p">(</span><span class="nv">loginResult</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="nf">asObservable</span><span class="p">())</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">fetchKakaoOpenIdToken</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="kt">UserApi</span><span class="o">.</span><span class="nf">isKakaoTalkLoginAvailable</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoTalk</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (앱 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">UserApi</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">loginWithKakaoAccount</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">oauthToken</span> <span class="k">in</span>
                    <span class="k">guard</span> <span class="k">let</span> <span class="nv">idToken</span> <span class="o">=</span> <span class="n">oauthToken</span><span class="o">.</span><span class="n">idToken</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="c1">// print("⚠️ idToken이 없습니다")</span>
                        <span class="k">throw</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"TokenError"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"idToken이 없습니다."</span><span class="p">])</span>
                    <span class="p">}</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"✅ idToken 추출 성공 (웹 로그인)"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">idToken</span>
                <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>]]></content><author><name>Dong Hyeon</name></author><category term="Haruhancut" /><summary type="html"><![CDATA[1. 카카오 로그인 https://developers.kakao.com/console/app 링크 접속 애플리케이션 추가 플랫폼 iOS 등록 네이티브 앱키를 Config.config파일에 저장 2. 파이어베이스 프로젝트 생성 Authentication 생성 Authentication에서 로그인 방법에서 카카오 로그인을 위해 OIDC 추가(이때 업그레이드 해줘야함) 프로젝트 설정에서 Google-Info.plist다운 3. 코드 설정 AppDelegate.swift import UIKit // 파이어베이스 import FirebaseCore import FirebaseAuth // 카카오톡 import RxKakaoSDKCommon import RxKakaoSDKAuth import KakaoSDKAuth func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool { // Override point for customization after application launch. // 파이어베이스 설정 FirebaseApp.configure() // 카카오톡 설정 if let nativeAppKey: String = Bundle.main.infoDictionary?["KAKAO_NATIVE_APP_KEY"] as? String { RxKakaoSDK.initSDK(appKey: nativeAppKey) } return true } func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey : Any] = [:]) -&gt; Bool { // 카카오톡 로그인 if (AuthApi.isKakaoTalkLoginUrl(url)) { return AuthController.rx.handleOpenUrl(url: url) } return false } SceenDelegate.swift func scene(_ scene: UIScene, openURLContexts URLContexts: Set&lt;UIOpenURLContext&gt;) { // 카카오 로그인 if let url = URLContexts.first?.url { if (AuthApi.isKakaoTalkLoginUrl(url)) { _ = AuthController.rx.handleOpenUrl(url: url) } } } MVC.swift import UIKit import RxSwift import RxKakaoSDKAuth import KakaoSDKAuth import RxKakaoSDKUser import KakaoSDKUser final class LoginViewController: UIViewController { let disposeBag = DisposeBag() private lazy var kakaoLoginButton: UIButton = { let button = UIButton(type: .system) var config = UIButton.Configuration.filled() config.image = UIImage(named: "Logo Kakao") config.baseBackgroundColor = UIColor(red: 1.0, green: 0.9, blue: 0.0, alpha: 1.0) config.imagePlacement = .leading // 이미지가 텍스트 왼쪽에 위치 config.imagePadding = 20 // 이미지와 텍스트 사이 간격 config.title = "카카오로 계속하기" config.baseForegroundColor = .black // 폰트 설정 config.titleTextAttributesTransformer = UIConfigurationTextAttributesTransformer { incoming in var outgoing = incoming outgoing.font = UIFont.systemFont(ofSize: 16, weight: .medium) return outgoing } button.configuration = config button.layer.cornerRadius = 10 button.clipsToBounds = true // 상태에 따라 배경색 바꾸기 button.configurationUpdateHandler = { button in var config = button.configuration if button.isHighlighted { config?.baseBackgroundColor = UIColor(red: 0.8, green: 0.72, blue: 0.0, alpha: 1.0) // 눌렸을 때 진한 노랑 } else { config?.baseBackgroundColor = UIColor(red: 1.0, green: 0.9, blue: 0.0, alpha: 1.0) // 기본 노랑 } button.configuration = config } button.addTarget(self, action: #selector(handleKakaoLogin), for: .touchUpInside) return button }() private lazy var appleLoginButton: UIButton = { let button = UIButton(type: .system) var config = UIButton.Configuration.filled() config.image = UIImage(named: "Logo Apple") config.baseBackgroundColor = .white config.imagePlacement = .leading // 이미지가 텍스트 왼쪽에 위치 config.imagePadding = 20 // 이미지와 텍스트 사이 간격 config.title = "Apple로 계속하기" config.baseForegroundColor = .black // 폰트 설정 config.titleTextAttributesTransformer = UIConfigurationTextAttributesTransformer { incoming in var outgoing = incoming outgoing.font = UIFont.systemFont(ofSize: 16, weight: .medium) return outgoing } button.configuration = config button.layer.cornerRadius = 10 button.clipsToBounds = true // 상태에 따라 배경색 바꾸기 button.configurationUpdateHandler = { button in var config = button.configuration if button.isHighlighted { config?.baseBackgroundColor = UIColor(white: 0.9, alpha: 1.0) // 눌렀을 때 약간 회색 } else { config?.baseBackgroundColor = .white // 원래 흰색 } button.configuration = config } button.addTarget(self, action: #selector(handleAppleLogin), for: .touchUpInside) return button }() // 카카오로그인버튼, 애플로그이넙튼 -&gt; 스택뷰에 추가 private lazy var stackView: UIStackView = { let st = UIStackView(arrangedSubviews: [ kakaoLoginButton, appleLoginButton ]) st.spacing = 10 st.axis = .vertical st.distribution = .fillEqually st.alignment = .fill return st }() override func viewDidLoad() { super.viewDidLoad() makeUI() } func makeUI() { // 배경 색상 view.backgroundColor = #colorLiteral(red: 0.09411741048, green: 0.09411782771, blue: 0.102702044, alpha: 1) // 스택뷰 -&gt; 뷰에 추가 view.addSubview(stackView) stackView.translatesAutoresizingMaskIntoConstraints = false // 오토레이아웃 제약 추가 NSLayoutConstraint.activate([ stackView.centerXAnchor.constraint(equalTo: view.centerXAnchor), stackView.bottomAnchor.constraint(equalTo: view.bottomAnchor, constant: -50), stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 20), stackView.heightAnchor.constraint(equalToConstant: 130) ]) } @objc private func handleKakaoLogin() { print("✅ 카카오 로그인 버튼 눌림") startKakaoLogin() } @objc private func handleAppleLogin() { print("✅ Apple 로그인 버튼 눌림") } } // MARK: - Observable extension LoginViewController { func startKakaoLogin() { fetchKakaoOpenIdToken() .subscribe(onNext: { token in print("✅ 받은 토큰: \(token)") }, onError: { error in print("❌ 로그인 에러: \(error.localizedDescription)") }) .disposed(by: disposeBag) } private func fetchKakaoOpenIdToken() -&gt; Observable&lt;String&gt; { if UserApi.isKakaoTalkLoginAvailable() { return UserApi.shared.rx.loginWithKakaoTalk() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (앱 로그인)") return idToken } } else { return UserApi.shared.rx.loginWithKakaoAccount() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (웹 로그인)") return idToken } } } } #Preview { LoginViewController() } VIewController + ViewModel ViewController import UIKit import RxSwift import RxKakaoSDKAuth import KakaoSDKAuth import RxKakaoSDKUser import KakaoSDKUser final class LoginViewController: UIViewController { let disposeBag = DisposeBag() private let viewModel = LoginViewModel() private func bindViewModel() { viewModel.loginSuccess .observe(on: MainScheduler.instance) .subscribe { token in print("로그인 성공: \(token)") } .disposed(by: disposeBag) viewModel.loginFailure .observe(on: MainScheduler.instance) .subscribe { errorMessage in print("로그인 실패: \(errorMessage)") } .disposed(by: disposeBag) } private lazy var kakaoLoginButton: UIButton = { let button = UIButton(type: .system) var config = UIButton.Configuration.filled() config.image = UIImage(named: "Logo Kakao") config.baseBackgroundColor = UIColor(red: 1.0, green: 0.9, blue: 0.0, alpha: 1.0) config.imagePlacement = .leading // 이미지가 텍스트 왼쪽에 위치 config.imagePadding = 20 // 이미지와 텍스트 사이 간격 config.title = "카카오로 계속하기" config.baseForegroundColor = .black // 폰트 설정 config.titleTextAttributesTransformer = UIConfigurationTextAttributesTransformer { incoming in var outgoing = incoming outgoing.font = UIFont.systemFont(ofSize: 16, weight: .medium) return outgoing } button.configuration = config button.layer.cornerRadius = 10 button.clipsToBounds = true // 상태에 따라 배경색 바꾸기 button.configurationUpdateHandler = { button in var config = button.configuration if button.isHighlighted { config?.baseBackgroundColor = UIColor(red: 0.8, green: 0.72, blue: 0.0, alpha: 1.0) // 눌렸을 때 진한 노랑 } else { config?.baseBackgroundColor = UIColor(red: 1.0, green: 0.9, blue: 0.0, alpha: 1.0) // 기본 노랑 } button.configuration = config } button.addTarget(self, action: #selector(handleKakaoLogin), for: .touchUpInside) return button }() private lazy var appleLoginButton: UIButton = { let button = UIButton(type: .system) var config = UIButton.Configuration.filled() config.image = UIImage(named: "Logo Apple") config.baseBackgroundColor = .white config.imagePlacement = .leading // 이미지가 텍스트 왼쪽에 위치 config.imagePadding = 20 // 이미지와 텍스트 사이 간격 config.title = "Apple로 계속하기" config.baseForegroundColor = .black // 폰트 설정 config.titleTextAttributesTransformer = UIConfigurationTextAttributesTransformer { incoming in var outgoing = incoming outgoing.font = UIFont.systemFont(ofSize: 16, weight: .medium) return outgoing } button.configuration = config button.layer.cornerRadius = 10 button.clipsToBounds = true // 상태에 따라 배경색 바꾸기 button.configurationUpdateHandler = { button in var config = button.configuration if button.isHighlighted { config?.baseBackgroundColor = UIColor(white: 0.9, alpha: 1.0) // 눌렀을 때 약간 회색 } else { config?.baseBackgroundColor = .white // 원래 흰색 } button.configuration = config } button.addTarget(self, action: #selector(handleAppleLogin), for: .touchUpInside) return button }() // 카카오로그인버튼, 애플로그이넙튼 -&gt; 스택뷰에 추가 private lazy var stackView: UIStackView = { let st = UIStackView(arrangedSubviews: [ kakaoLoginButton, appleLoginButton ]) st.spacing = 10 st.axis = .vertical st.distribution = .fillEqually st.alignment = .fill return st }() override func viewDidLoad() { super.viewDidLoad() makeUI() bindViewModel() } func makeUI() { // 배경 색상 view.backgroundColor = #colorLiteral(red: 0.09411741048, green: 0.09411782771, blue: 0.102702044, alpha: 1) // 스택뷰 -&gt; 뷰에 추가 view.addSubview(stackView) stackView.translatesAutoresizingMaskIntoConstraints = false // 오토레이아웃 제약 추가 NSLayoutConstraint.activate([ stackView.centerXAnchor.constraint(equalTo: view.centerXAnchor), stackView.bottomAnchor.constraint(equalTo: view.bottomAnchor, constant: -50), stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 20), stackView.heightAnchor.constraint(equalToConstant: 130) ]) } @objc private func handleKakaoLogin() { print("✅ 카카오 로그인 버튼 눌림") viewModel.loginWithKakao() } @objc private func handleAppleLogin() { print("✅ Apple 로그인 버튼 눌림") } } // MARK: - Observable extension LoginViewController { func startKakaoLogin() { fetchKakaoOpenIdToken() .subscribe(onNext: { token in print("✅ 받은 토큰: \(token)") }, onError: { error in print("❌ 로그인 에러: \(error.localizedDescription)") }) .disposed(by: disposeBag) } private func fetchKakaoOpenIdToken() -&gt; Observable&lt;String&gt; { if UserApi.isKakaoTalkLoginAvailable() { return UserApi.shared.rx.loginWithKakaoTalk() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (앱 로그인)") return idToken } } else { return UserApi.shared.rx.loginWithKakaoAccount() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (웹 로그인)") return idToken } } } } #Preview { LoginViewController() } ViewModel import Foundation import RxSwift import RxCocoa import KakaoSDKUser import RxKakaoSDKUser import RxKakaoSDKAuth import KakaoSDKAuth final class LoginViewModel { private let disposeBag = DisposeBag() // View에서 구독할 수 있도록 공개용 Subject let loginSuccess = PublishSubject&lt;String&gt;() let loginFailure = PublishSubject&lt;String&gt;() func loginWithKakao() { fetchKakaoOpenIdToken() .subscribe { token in self.loginSuccess.onNext(token) } onError: { error in self.loginFailure.onNext(error.localizedDescription) } .disposed(by: disposeBag) } private func fetchKakaoOpenIdToken() -&gt; Observable&lt;String&gt; { if UserApi.isKakaoTalkLoginAvailable() { return UserApi.shared.rx.loginWithKakaoTalk() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (앱 로그인)") return idToken } } else { return UserApi.shared.rx.loginWithKakaoAccount() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (웹 로그인)") return idToken } } } } VIewController + ViewModel + Results ViewController import UIKit import RxSwift import RxKakaoSDKAuth import KakaoSDKAuth import RxKakaoSDKUser import KakaoSDKUser final class LoginViewController: UIViewController { let disposeBag = DisposeBag() private let viewModel = LoginViewModel() private func bindViewModel() { viewModel.loginResult .observe(on: MainScheduler.instance) .subscribe { result in switch result { case .success(let token): print("로그인 성공: \(token)") case .failure(let error): print("로그인 실패: \(error.localizedDescription)") } }.disposed(by: disposeBag) } private lazy var kakaoLoginButton: UIButton = { let button = UIButton(type: .system) var config = UIButton.Configuration.filled() config.image = UIImage(named: "Logo Kakao") config.baseBackgroundColor = UIColor(red: 1.0, green: 0.9, blue: 0.0, alpha: 1.0) config.imagePlacement = .leading // 이미지가 텍스트 왼쪽에 위치 config.imagePadding = 20 // 이미지와 텍스트 사이 간격 config.title = "카카오로 계속하기" config.baseForegroundColor = .black // 폰트 설정 config.titleTextAttributesTransformer = UIConfigurationTextAttributesTransformer { incoming in var outgoing = incoming outgoing.font = UIFont.systemFont(ofSize: 16, weight: .medium) return outgoing } button.configuration = config button.layer.cornerRadius = 10 button.clipsToBounds = true // 상태에 따라 배경색 바꾸기 button.configurationUpdateHandler = { button in var config = button.configuration if button.isHighlighted { config?.baseBackgroundColor = UIColor(red: 0.8, green: 0.72, blue: 0.0, alpha: 1.0) // 눌렸을 때 진한 노랑 } else { config?.baseBackgroundColor = UIColor(red: 1.0, green: 0.9, blue: 0.0, alpha: 1.0) // 기본 노랑 } button.configuration = config } button.addTarget(self, action: #selector(handleKakaoLogin), for: .touchUpInside) return button }() private lazy var appleLoginButton: UIButton = { let button = UIButton(type: .system) var config = UIButton.Configuration.filled() config.image = UIImage(named: "Logo Apple") config.baseBackgroundColor = .white config.imagePlacement = .leading // 이미지가 텍스트 왼쪽에 위치 config.imagePadding = 20 // 이미지와 텍스트 사이 간격 config.title = "Apple로 계속하기" config.baseForegroundColor = .black // 폰트 설정 config.titleTextAttributesTransformer = UIConfigurationTextAttributesTransformer { incoming in var outgoing = incoming outgoing.font = UIFont.systemFont(ofSize: 16, weight: .medium) return outgoing } button.configuration = config button.layer.cornerRadius = 10 button.clipsToBounds = true // 상태에 따라 배경색 바꾸기 button.configurationUpdateHandler = { button in var config = button.configuration if button.isHighlighted { config?.baseBackgroundColor = UIColor(white: 0.9, alpha: 1.0) // 눌렀을 때 약간 회색 } else { config?.baseBackgroundColor = .white // 원래 흰색 } button.configuration = config } button.addTarget(self, action: #selector(handleAppleLogin), for: .touchUpInside) return button }() // 카카오로그인버튼, 애플로그이넙튼 -&gt; 스택뷰에 추가 private lazy var stackView: UIStackView = { let st = UIStackView(arrangedSubviews: [ kakaoLoginButton, appleLoginButton ]) st.spacing = 10 st.axis = .vertical st.distribution = .fillEqually st.alignment = .fill return st }() override func viewDidLoad() { super.viewDidLoad() makeUI() bindViewModel() } func makeUI() { // 배경 색상 view.backgroundColor = #colorLiteral(red: 0.09411741048, green: 0.09411782771, blue: 0.102702044, alpha: 1) // 스택뷰 -&gt; 뷰에 추가 view.addSubview(stackView) stackView.translatesAutoresizingMaskIntoConstraints = false // 오토레이아웃 제약 추가 NSLayoutConstraint.activate([ stackView.centerXAnchor.constraint(equalTo: view.centerXAnchor), stackView.bottomAnchor.constraint(equalTo: view.bottomAnchor, constant: -50), stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 20), stackView.heightAnchor.constraint(equalToConstant: 130) ]) } @objc private func handleKakaoLogin() { print("✅ 카카오 로그인 버튼 눌림") viewModel.loginWithKakao() } @objc private func handleAppleLogin() { print("✅ Apple 로그인 버튼 눌림") } } // MARK: - Observable extension LoginViewController { func startKakaoLogin() { fetchKakaoOpenIdToken() .subscribe(onNext: { token in print("✅ 받은 토큰: \(token)") }, onError: { error in print("❌ 로그인 에러: \(error.localizedDescription)") }) .disposed(by: disposeBag) } private func fetchKakaoOpenIdToken() -&gt; Observable&lt;String&gt; { if UserApi.isKakaoTalkLoginAvailable() { return UserApi.shared.rx.loginWithKakaoTalk() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (앱 로그인)") return idToken } } else { return UserApi.shared.rx.loginWithKakaoAccount() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (웹 로그인)") return idToken } } } } #Preview { LoginViewController() } ViewModel import Foundation import RxSwift import RxCocoa import KakaoSDKUser import RxKakaoSDKUser import RxKakaoSDKAuth import KakaoSDKAuth final class LoginViewModel { private let disposeBag = DisposeBag() let loginResult = PublishSubject&lt;Result&lt;String, Error&gt;&gt;() func loginWithKakao() { fetchKakaoOpenIdToken() .subscribe { token in self.loginResult.onNext(.success(token)) } onError: { error in self.loginResult.onNext(.failure(error)) } .disposed(by: disposeBag) } private func fetchKakaoOpenIdToken() -&gt; Observable&lt;String&gt; { if UserApi.isKakaoTalkLoginAvailable() { return UserApi.shared.rx.loginWithKakaoTalk() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (앱 로그인)") return idToken } } else { return UserApi.shared.rx.loginWithKakaoAccount() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (웹 로그인)") return idToken } } } } VIewController + ViewModel + Result + Input/Output ViewController import UIKit import RxSwift import RxKakaoSDKAuth import KakaoSDKAuth import RxKakaoSDKUser import KakaoSDKUser final class LoginViewController: UIViewController { let disposeBag = DisposeBag() private let viewModel = LoginViewModel() private let kakaoLoginTapped = PublishSubject&lt;Void&gt;() private func bindViewModel() { let input = LoginViewModel.Input(kakaoLoginTapped: kakaoLoginTapped.asObservable()) let output = viewModel.transform(input: input) output.loginResult .observe(on: MainScheduler.instance) .subscribe { result in switch result { case .success(let token): print("로그인 성공: \(token)") case .failure(let error): print("로그인 실패: \(error.localizedDescription)") } }.disposed(by: disposeBag) } private lazy var kakaoLoginButton: UIButton = { let button = UIButton(type: .system) var config = UIButton.Configuration.filled() config.image = UIImage(named: "Logo Kakao") config.baseBackgroundColor = UIColor(red: 1.0, green: 0.9, blue: 0.0, alpha: 1.0) config.imagePlacement = .leading // 이미지가 텍스트 왼쪽에 위치 config.imagePadding = 20 // 이미지와 텍스트 사이 간격 config.title = "카카오로 계속하기" config.baseForegroundColor = .black // 폰트 설정 config.titleTextAttributesTransformer = UIConfigurationTextAttributesTransformer { incoming in var outgoing = incoming outgoing.font = UIFont.systemFont(ofSize: 16, weight: .medium) return outgoing } button.configuration = config button.layer.cornerRadius = 10 button.clipsToBounds = true // 상태에 따라 배경색 바꾸기 button.configurationUpdateHandler = { button in var config = button.configuration if button.isHighlighted { config?.baseBackgroundColor = UIColor(red: 0.8, green: 0.72, blue: 0.0, alpha: 1.0) // 눌렸을 때 진한 노랑 } else { config?.baseBackgroundColor = UIColor(red: 1.0, green: 0.9, blue: 0.0, alpha: 1.0) // 기본 노랑 } button.configuration = config } button.addTarget(self, action: #selector(handleKakaoLogin), for: .touchUpInside) return button }() private lazy var appleLoginButton: UIButton = { let button = UIButton(type: .system) var config = UIButton.Configuration.filled() config.image = UIImage(named: "Logo Apple") config.baseBackgroundColor = .white config.imagePlacement = .leading // 이미지가 텍스트 왼쪽에 위치 config.imagePadding = 20 // 이미지와 텍스트 사이 간격 config.title = "Apple로 계속하기" config.baseForegroundColor = .black // 폰트 설정 config.titleTextAttributesTransformer = UIConfigurationTextAttributesTransformer { incoming in var outgoing = incoming outgoing.font = UIFont.systemFont(ofSize: 16, weight: .medium) return outgoing } button.configuration = config button.layer.cornerRadius = 10 button.clipsToBounds = true // 상태에 따라 배경색 바꾸기 button.configurationUpdateHandler = { button in var config = button.configuration if button.isHighlighted { config?.baseBackgroundColor = UIColor(white: 0.9, alpha: 1.0) // 눌렀을 때 약간 회색 } else { config?.baseBackgroundColor = .white // 원래 흰색 } button.configuration = config } button.addTarget(self, action: #selector(handleAppleLogin), for: .touchUpInside) return button }() private lazy var stackView: UIStackView = { // 카카오로그인버튼, 애플로그이넙튼 -&gt; 스택뷰에 추가 let st = UIStackView(arrangedSubviews: [ kakaoLoginButton, appleLoginButton ]) st.spacing = 10 st.axis = .vertical st.distribution = .fillEqually st.alignment = .fill return st }() override func viewDidLoad() { super.viewDidLoad() makeUI() bindViewModel() } func makeUI() { // 배경 색상 view.backgroundColor = #colorLiteral(red: 0.09411741048, green: 0.09411782771, blue: 0.102702044, alpha: 1) // 스택뷰 -&gt; 뷰에 추가 view.addSubview(stackView) stackView.translatesAutoresizingMaskIntoConstraints = false // 오토레이아웃 제약 추가 NSLayoutConstraint.activate([ stackView.centerXAnchor.constraint(equalTo: view.centerXAnchor), stackView.bottomAnchor.constraint(equalTo: view.bottomAnchor, constant: -50), stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 20), stackView.heightAnchor.constraint(equalToConstant: 130) ]) } @objc private func handleKakaoLogin() { print("✅ 카카오 로그인 버튼 눌림") kakaoLoginTapped.onNext(()) //viewModel.loginWithKakao() } @objc private func handleAppleLogin() { print("✅ Apple 로그인 버튼 눌림") } } #Preview { LoginViewController() } ViewModel import Foundation import RxSwift import RxCocoa import KakaoSDKUser import RxKakaoSDKUser import RxKakaoSDKAuth import KakaoSDKAuth final class LoginViewModel { private let disposeBag = DisposeBag() // let loginResult = PublishSubject&lt;Result&lt;String, Error&gt;&gt;() struct Input { let kakaoLoginTapped: Observable&lt;Void&gt; } struct Output { let loginResult: Observable&lt;Result&lt;String, Error&gt;&gt; } func transform(input: Input) -&gt; Output { let result = PublishSubject&lt;Result&lt;String, Error&gt;&gt;() input.kakaoLoginTapped .flatMapLatest { [weak self] _ -&gt; Observable&lt;Result&lt;String, Error&gt;&gt; in guard let self = self else { return .empty() } return self.fetchKakaoOpenIdToken() .map { .success($0) } .catch { error in .just(.failure(error)) } } .bind(to: result) .disposed(by: disposeBag) return Output(loginResult: result.asObservable()) } private func fetchKakaoOpenIdToken() -&gt; Observable&lt;String&gt; { if UserApi.isKakaoTalkLoginAvailable() { return UserApi.shared.rx.loginWithKakaoTalk() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (앱 로그인)") return idToken } } else { return UserApi.shared.rx.loginWithKakaoAccount() .map { oauthToken in guard let idToken = oauthToken.idToken else { // print("⚠️ idToken이 없습니다") throw NSError(domain: "TokenError", code: -1, userInfo: [NSLocalizedDescriptionKey: "idToken이 없습니다."]) } print("✅ idToken 추출 성공 (웹 로그인)") return idToken } } } }]]></summary></entry><entry><title type="html">[CleanArchitecture]-객체 지향 설계의 5원칙 SOLID</title><link href="http://localhost:4000/CleanArchitecture-SOLID/" rel="alternate" type="text/html" title="[CleanArchitecture]-객체 지향 설계의 5원칙 SOLID" /><published>2025-03-25T00:00:00+00:00</published><updated>2025-03-25T00:00:00+00:00</updated><id>http://localhost:4000/%5BCleanArchitecture%5D-SOLID</id><content type="html" xml:base="http://localhost:4000/CleanArchitecture-SOLID/"><![CDATA[<h2 id="solid-원칙이란">SOLID 원칙이란</h2>
<p><em>SOLID</em> 원칙이란 객체지향 설계에서 지켜야 할 5개의 소프트웨어 개발 원칙을 의미한다.   <br />
특정 프로그래밍 언어 혹은 프레임워크를 위해 만든 원치이 아니다.</p>

<h2 id="객체-지향-설계의-5원칙-solid">객체 지향 설계의 5원칙 SOLID</h2>
<ul>
  <li>단일 책임 원칙 (Single Responsibility Principle)</li>
  <li>개방 폐쇄 원칙 (Open Closed Principle)</li>
  <li>리스코프 치환 원칙 (Liskov Subsitution Principle)</li>
  <li>인터페이스 분리 원칙 (Interface Segregation Principle)</li>
  <li>의존 역전 원칙 (Dependency Inversion Principle)</li>
</ul>

<p><em>SOLID</em> 원칙은 oop 4가지 특징(추상화, 상속, 캡슐화, 다형성)과 더불어, 객체 지향 프로그래밍의 단골 면접 질문 중 하나이다. 또한 <em>Design Pattern</em>들이 SOLID 설계 원칙에 입각해서 만들어진 것이기 때문에 표준화 작업에서부터 아키텍처 설계에 이르기까지 다양하게 적용되는 이의 근간이 되는 <em>SOLID</em> 원칙에 대해 정확히 이해할 필요가 있다.</p>

<p>좋은 소프트웨어란 변화에 대응을 잘 하는 것을 말한다. 예를 들어 클라이언트가 추가적인 요청을 한다면 구현을 할 때 애로사항없이 잘 대응하기 위해서 소프트웨어 설계 근간이 좋아야 한다.</p>

<p>좋은 설계란 시스템에 새로운 요구사항이나 변경사항이 있을 때, 영향을 받는 범위가 적은 구조를 말한다.  <br />
그래서 시스템에 예상치 못한 변경사항이 발생하더라도, 유연하게 대처하고 이후에 확장성있는 시스템 구조를 만들 수 있다.</p>

<p>즉 <em>SOLID</em> 객체 지향 원칙을 적용하면 <em>코드를 확장</em>하고 <em>유지보수 관리</em>가 쉬워지며 불필요한 <em>복잡성을 제거</em>하여 리팩토링 소요 시간을 줄임으로써 프로젝트 <em>개발의 생산성</em>을 높일 수 있다.</p>]]></content><author><name>Dong Hyeon</name></author><category term="CleanArchitecture" /><summary type="html"><![CDATA[SOLID 원칙이란 SOLID 원칙이란 객체지향 설계에서 지켜야 할 5개의 소프트웨어 개발 원칙을 의미한다. 특정 프로그래밍 언어 혹은 프레임워크를 위해 만든 원치이 아니다. 객체 지향 설계의 5원칙 SOLID 단일 책임 원칙 (Single Responsibility Principle) 개방 폐쇄 원칙 (Open Closed Principle) 리스코프 치환 원칙 (Liskov Subsitution Principle) 인터페이스 분리 원칙 (Interface Segregation Principle) 의존 역전 원칙 (Dependency Inversion Principle) SOLID 원칙은 oop 4가지 특징(추상화, 상속, 캡슐화, 다형성)과 더불어, 객체 지향 프로그래밍의 단골 면접 질문 중 하나이다. 또한 Design Pattern들이 SOLID 설계 원칙에 입각해서 만들어진 것이기 때문에 표준화 작업에서부터 아키텍처 설계에 이르기까지 다양하게 적용되는 이의 근간이 되는 SOLID 원칙에 대해 정확히 이해할 필요가 있다. 좋은 소프트웨어란 변화에 대응을 잘 하는 것을 말한다. 예를 들어 클라이언트가 추가적인 요청을 한다면 구현을 할 때 애로사항없이 잘 대응하기 위해서 소프트웨어 설계 근간이 좋아야 한다. 좋은 설계란 시스템에 새로운 요구사항이나 변경사항이 있을 때, 영향을 받는 범위가 적은 구조를 말한다. 그래서 시스템에 예상치 못한 변경사항이 발생하더라도, 유연하게 대처하고 이후에 확장성있는 시스템 구조를 만들 수 있다. 즉 SOLID 객체 지향 원칙을 적용하면 코드를 확장하고 유지보수 관리가 쉬워지며 불필요한 복잡성을 제거하여 리팩토링 소요 시간을 줄임으로써 프로젝트 개발의 생산성을 높일 수 있다.]]></summary></entry><entry><title type="html">[CleanArchitecture]-클린 아키텍처</title><link href="http://localhost:4000/CleanArchitecture-CleanArchitecture/" rel="alternate" type="text/html" title="[CleanArchitecture]-클린 아키텍처" /><published>2025-03-25T00:00:00+00:00</published><updated>2025-03-25T00:00:00+00:00</updated><id>http://localhost:4000/%5BCleanArchitecture%5D-CleanArchitecture</id><content type="html" xml:base="http://localhost:4000/CleanArchitecture-CleanArchitecture/"><![CDATA[<!-- - 소프트웨어를 **유지보수**하기 쉽고, **테스트 가능**하며 **확장 가능한 구조**로 만드는 아키텍처 설계 원칙이다.
- 클린 아키텍처의 목적은 더 적은 인력으로 더 결함율이 낮고 더 빠르게 개발할 수 있는 코드를 작성하는 것이다. -->

<h2 id="clean-architecture란">Clean Architecture란?</h2>
<p>로버트 C 마틴(Robert C. Martin), 별명으로는 엉클 밥(Uncle Bob)이 제안한 아키텍처로 소프트웨어를 다양한 계층(Layer)으로 분리해서 다음과 같은 목표를 추구한다</p>
<ul>
  <li>아키텍처는 특정 소프트웨어 라이브러리에 의존하지 않는다.</li>
  <li><strong>비즈니스 로직</strong>은 UI, DB, 웹 또는 기타 외부 요소 없이 테스트 할 수 있다.</li>
  <li><strong>UI는 비즈니스 로직과 분리되어</strong>, 시스템 로직을 변경하지 않고도 UI를 교체할 수 있다.</li>
  <li>비즈니스 로직은 데이터베이스와 바인딩되어 있지 않다.</li>
  <li>비즈니스 로직은 외부 세계(입출력 등)에 대해 아무것도 알지 못한다.</li>
</ul>

<blockquote>
  <p>요약하자면, <strong>소프트웨어를 역할별로 레이어를 나누고</strong>   <br />
각 레이어를 <strong>완전히 분리하여 의존성을 낮추는 것</strong>  이 클린아키텍처의 핵심이다.  <br />
이를 통해 변화에 유연하고 테스트하기 쉬운 구조를 만들 수 있다.</p>
</blockquote>

<h2 id="왜-아키텍처가-필요한가">왜 아키텍처가 필요한가?</h2>
<p>개발자는 돈을 받고 코드를 만드는 사람이다.  <br />
회서에서 가장 즁요한 것은</p>
<ol>
  <li><strong>낮은 인건비로</strong></li>
  <li><strong>결함이 적은 소프트웨어를 빠르게 개발</strong>하는 것</li>
</ol>

<p>이다. 하지만 모든 개발자들이 <strong>적은 인력으로 유지보수가 가능하면서 결함율이 낮은</strong> 소프트웨어를 만들어낼 수 없다.  <br />
오히려 <strong>많은 인력을가지고도 유지보수도 못하고 버그는 많이 생기는</strong> 소프트웨어를 만든다.</p>

<blockquote>
  <p>소프트웨어를 만드는 건 누구나 할 수 있지만,  <br />
<strong>적은 인력으로 유지보수가 쉬운 ‘좋은 소프트웨어’를 만드는 건 어렵다.</strong></p>
</blockquote>

<p>그렇기 떄문에 <strong>좋은 아키텍처</strong> 의 개념이 중요하다.  <br />
좋은 아키텍처는 <strong>변화에 강하고, 유지보수가 쉽고, 테스트가 쉬운 구조</strong>를 만드는 데 핵심이 된다.</p>

<h2 id="모바일에서의-클린아키텍처">모바일에서의 클린아키텍처</h2>
<div style="display: flex; justify-content: space-between;">
  <img src="/assets/img/2025-03-25-[CleanArchitecture]-CleanArchitecture/clean1.png" alt="clean1" style="width: 50%;" />
  <img src="/assets/img/2025-03-25-[CleanArchitecture]-CleanArchitecture/clean3.png" alt="clean3" style="width: 50%;" />
</div>

<p>엉클밥의 클린아키텍처 컨셉을 보면 계층을 4개로 분리하였다.  <br />
모바일 설계에서의 클린 아키텍처를 적용하기 위한 방법 중 하나로 3Layer 형태로 주로 사용한다.</p>

<h3 id="1domain-layer">1.Domain Layer</h3>
<ul>
  <li>Entity와 UseCase 계층을 묶어 Domain Layer 라고 부른다.</li>
  <li>Entity
    <ul>
      <li>앱의 핵심 데이터구조이다.</li>
    </ul>
  </li>
  <li>UseCase
    <ul>
      <li>핵심 비즈니스 로직이다.</li>
      <li>유저 리스트 불러오기</li>
      <li>유저 상세 데이터 불러오기</li>
      <li>유저를 내부 저장소에 저장하기</li>
    </ul>
  </li>
  <li>Repository 인터페이스
    <ul>
      <li>UseCase와 Data Layer(서버 API, 로컬 DB)를 연결해주는 중간 다리 역할이다.</li>
      <li>Domain Layer에서 Repository는 인터페이스(Protocol)만 존재한다.</li>
      <li>실제 구현은 Data Layer에서 한다.</li>
    </ul>
  </li>
</ul>

<h3 id="2-data-layer">2. Data Layer</h3>
<ul>
  <li>통신 및 데이터 관리 로직을 담당하는 계층이다.</li>
  <li>DB, API
    <ul>
      <li>실제 데이터의 입출력을 담당한다.</li>
    </ul>
  </li>
  <li>Repository 구현체
    <ul>
      <li>데이터를 조정하는데 UseCase가 필요로 하는 데이터 저장/수정하는 기능을 한다.</li>
      <li>데이터소스(ex. DB)를 Protocol같은 인터페이스 형태로 참조하기 때문에 데이터 소스 객체를 갈아끼울 수 있는 형태로, 외부 API를 호출하거나 로컬 DB에 접근하거나 테스트를 위한 MockObject로 전환할 수 있다.</li>
    </ul>
  </li>
</ul>

<h3 id="3-presentation-layer">3. Presentation Layer</h3>
<ul>
  <li>UI표시, 애니메이션, 이벤트 핸들링 같은 UI 관련 모든 처리를 담당하는 계층이다.</li>
  <li>View(ViewConroller, View)
    <ul>
      <li>UI 화면 표시와 사용자의 터치 이벤트를 수신한다.</li>
      <li>화면에 그리는게 어떤 의미인지는 모르고, 어떤 색으로 그리는지와 같은 View적인 요소만 결정한다.</li>
      <li>단순히 Presentor(ViewModel)에서 받은 데이터나 상태에 따라 뷰의 표시를 전환한다.</li>
    </ul>
  </li>
  <li>Presenter(ViewModel)
    <ul>
      <li>MVP/VIPER라면 Presenter역할, MVVM이라면 ViewModel역할과 동일하다.</li>
      <li>사용자의 이벤트에 대한 판단과 대응을 진행한다. 뷰에 그려지는게 어떤 의미인지, 무엇을 그려야하는지 알고 있다.</li>
    </ul>
  </li>
</ul>

<h2 id="의존성-규칙">의존성 규칙</h2>
<p>클린 아키텍처에서 지켜야 할 규칙으로 의존성 규칙이 있다.</p>
<blockquote>
  <p>안쪽 원을 향하는 방향이 규칙이므로<br />
Data Layer와 Presentation Layer가 Domain Layer를 바라보는 방향으로 의존성 방향이 지켜져야 한다.</p>
</blockquote>

<p><img src="/assets/img/2025-03-25-[CleanArchitecture]-CleanArchitecture/clean4.png" alt="clean4" style="width: 50%;" /></p>

<h2 id="reference">Reference</h2>
<ul>
  <li>https://sunny-maneg.tistory.com/entry/iOS-설계에서의-Clean-Architecture</li>
  <li>https://yoojin99.github.io/app/클린-아키텍처/</li>
  <li>https://mini-min-dev.tistory.com/284</li>
  <li>https://velog.io/@woohm402/clean-architecture-short-summary</li>
</ul>]]></content><author><name>Dong Hyeon</name></author><category term="CleanArchitecture" /><summary type="html"><![CDATA[Clean Architecture란? 로버트 C 마틴(Robert C. Martin), 별명으로는 엉클 밥(Uncle Bob)이 제안한 아키텍처로 소프트웨어를 다양한 계층(Layer)으로 분리해서 다음과 같은 목표를 추구한다 아키텍처는 특정 소프트웨어 라이브러리에 의존하지 않는다. 비즈니스 로직은 UI, DB, 웹 또는 기타 외부 요소 없이 테스트 할 수 있다. UI는 비즈니스 로직과 분리되어, 시스템 로직을 변경하지 않고도 UI를 교체할 수 있다. 비즈니스 로직은 데이터베이스와 바인딩되어 있지 않다. 비즈니스 로직은 외부 세계(입출력 등)에 대해 아무것도 알지 못한다. 요약하자면, 소프트웨어를 역할별로 레이어를 나누고 각 레이어를 완전히 분리하여 의존성을 낮추는 것 이 클린아키텍처의 핵심이다. 이를 통해 변화에 유연하고 테스트하기 쉬운 구조를 만들 수 있다. 왜 아키텍처가 필요한가? 개발자는 돈을 받고 코드를 만드는 사람이다. 회서에서 가장 즁요한 것은 낮은 인건비로 결함이 적은 소프트웨어를 빠르게 개발하는 것 이다. 하지만 모든 개발자들이 적은 인력으로 유지보수가 가능하면서 결함율이 낮은 소프트웨어를 만들어낼 수 없다. 오히려 많은 인력을가지고도 유지보수도 못하고 버그는 많이 생기는 소프트웨어를 만든다. 소프트웨어를 만드는 건 누구나 할 수 있지만, 적은 인력으로 유지보수가 쉬운 ‘좋은 소프트웨어’를 만드는 건 어렵다. 그렇기 떄문에 좋은 아키텍처 의 개념이 중요하다. 좋은 아키텍처는 변화에 강하고, 유지보수가 쉽고, 테스트가 쉬운 구조를 만드는 데 핵심이 된다. 모바일에서의 클린아키텍처 엉클밥의 클린아키텍처 컨셉을 보면 계층을 4개로 분리하였다. 모바일 설계에서의 클린 아키텍처를 적용하기 위한 방법 중 하나로 3Layer 형태로 주로 사용한다. 1.Domain Layer Entity와 UseCase 계층을 묶어 Domain Layer 라고 부른다. Entity 앱의 핵심 데이터구조이다. UseCase 핵심 비즈니스 로직이다. 유저 리스트 불러오기 유저 상세 데이터 불러오기 유저를 내부 저장소에 저장하기 Repository 인터페이스 UseCase와 Data Layer(서버 API, 로컬 DB)를 연결해주는 중간 다리 역할이다. Domain Layer에서 Repository는 인터페이스(Protocol)만 존재한다. 실제 구현은 Data Layer에서 한다. 2. Data Layer 통신 및 데이터 관리 로직을 담당하는 계층이다. DB, API 실제 데이터의 입출력을 담당한다. Repository 구현체 데이터를 조정하는데 UseCase가 필요로 하는 데이터 저장/수정하는 기능을 한다. 데이터소스(ex. DB)를 Protocol같은 인터페이스 형태로 참조하기 때문에 데이터 소스 객체를 갈아끼울 수 있는 형태로, 외부 API를 호출하거나 로컬 DB에 접근하거나 테스트를 위한 MockObject로 전환할 수 있다. 3. Presentation Layer UI표시, 애니메이션, 이벤트 핸들링 같은 UI 관련 모든 처리를 담당하는 계층이다. View(ViewConroller, View) UI 화면 표시와 사용자의 터치 이벤트를 수신한다. 화면에 그리는게 어떤 의미인지는 모르고, 어떤 색으로 그리는지와 같은 View적인 요소만 결정한다. 단순히 Presentor(ViewModel)에서 받은 데이터나 상태에 따라 뷰의 표시를 전환한다. Presenter(ViewModel) MVP/VIPER라면 Presenter역할, MVVM이라면 ViewModel역할과 동일하다. 사용자의 이벤트에 대한 판단과 대응을 진행한다. 뷰에 그려지는게 어떤 의미인지, 무엇을 그려야하는지 알고 있다. 의존성 규칙 클린 아키텍처에서 지켜야 할 규칙으로 의존성 규칙이 있다. 안쪽 원을 향하는 방향이 규칙이므로 Data Layer와 Presentation Layer가 Domain Layer를 바라보는 방향으로 의존성 방향이 지켜져야 한다. Reference https://sunny-maneg.tistory.com/entry/iOS-설계에서의-Clean-Architecture https://yoojin99.github.io/app/클린-아키텍처/ https://mini-min-dev.tistory.com/284 https://velog.io/@woohm402/clean-architecture-short-summary]]></summary></entry><entry><title type="html">[Uikit] Rest Api앱 만들기-1</title><link href="http://localhost:4000/Uikit-RestApi/" rel="alternate" type="text/html" title="[Uikit] Rest Api앱 만들기-1" /><published>2025-03-24T00:00:00+00:00</published><updated>2025-03-24T00:00:00+00:00</updated><id>http://localhost:4000/Uikit-RestApi</id><content type="html" xml:base="http://localhost:4000/Uikit-RestApi/"><![CDATA[<h2 id="1-프로젝트-설정">1. 프로젝트 설정</h2>

<ul>
  <li>SwiftUI 기반으로 프로젝트를 연다</li>
  <li>Uikit 폴더를 만들고 MainVC.storyboard, MainVC.swift, TodoCell.storyboard, TodoCell.swift파일을 만든다</li>
</ul>

<h2 id="2-mainvcstoryboard-만들기">2. MainVC.storyboard 만들기</h2>

<!-- ![plz](/assets/img/2025-02-06-[Blog] 깃블로그 이미지 편하게 작성하는법/plz.png)  
![plz](/assets/img/2025-03-24-[Uikit] RestApi 앱 만들기-1/1.png)  
![plz](/assets/img/2025-03-24-[Uikit] RestApi 앱 만들기-1/2.png)   -->

<!-- <img src="/assets/img/2025-03-24-[Uikit] RestApi 앱 만들기-1/2.png" alt="img1.daumcdn" style="zoom:70%;" /> -->
<!-- <img src="/assets/img/2025-03-24-[Uikit] RestApi 앱 만들기-1/1.png" alt="img1.daumcdn" style="zoom:70%;" /> -->]]></content><author><name>Dong Hyeon</name></author><category term="Uikit" /><summary type="html"><![CDATA[1. 프로젝트 설정 SwiftUI 기반으로 프로젝트를 연다 Uikit 폴더를 만들고 MainVC.storyboard, MainVC.swift, TodoCell.storyboard, TodoCell.swift파일을 만든다 2. MainVC.storyboard 만들기]]></summary></entry></feed>